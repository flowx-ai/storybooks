import{j as s}from"./jsx-runtime-j_jdvEMj.js";import{l as h}from"./lodash-DHyxJ22h.js";import{c as M}from"./clsx-B-dksMZM.js";import{r as n}from"./index-B-o1Wr-g.js";import{f as _,e as b,u as z,F as O,a as k,c as B,b as D,C as L,d as U}from"./Content-Bg962QKp.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-DggQIU-7.js";import"./Icon-C3PZoQlD.js";import"./Portal-Kk8hBqhk.js";import"./index-CKNPlJCH.js";function $(){const e=n.useRef(!0);return e.current===!0?(e.current=!1,!0):e.current}const A=10;function G(e){return typeof e=="string"}function H(e){return typeof e=="number"}const J=(e,r)=>{if(h.isNil(e)||isNaN(e))return r??NaN;if(H(e))return e;if(G(e)){const o=parseInt(e,10);return isNaN(o)?r??NaN:o}return r??NaN},u=n.forwardRef(({min:e,max:r,disabled:o=!1,className:c,showValue:a=!1,suffix:d,step:l=A,onValueChange:t,value:m,name:y,error:E,onBlur:v,dataUniqueid:T,dataTestId:w,displayFormatFn:x=i=>(i==null?void 0:i.toString())||"",...P},R)=>{const i=n.useMemo(()=>J(m,e),[m,e]),I=$();n.useEffect(()=>{if(!I&&(Number.isFinite(e)&&h.isNil(m)&&Promise.resolve().then(()=>{t==null||t(e,!0)}),Number.isFinite(e)&&Number.isFinite(r))){if(r&&i>r){Promise.resolve().then(()=>{t==null||t(r,!0)});return}if(e&&i<e){Promise.resolve().then(()=>{t==null||t(e,!0)});return}}},[i,t,r,e,m]);const q=n.useMemo(()=>{const p=Math.round((i-e)/l)*l/(r-e)*100;return p<0?0:p>100?100:p},[i,e,r,l]);return s.jsx("div",{ref:R,"data-uniqueid":T,"data-testid":w,...P,className:M(["flx-value-slider",{disabled:o},c]),children:s.jsx(_,{error:E,children:s.jsxs(s.Fragment,{children:[a?s.jsxs("div",{className:"flx-value-slider-value",children:[x(i),d?s.jsx("div",{className:"flx-suffix",children:d}):null]}):null,s.jsxs("div",{className:"flx-value-slider-min",children:[x(e),d?s.jsx("div",{className:"flx-suffix",children:d}):null]}),s.jsxs("div",{className:"flx-value-slider-max",children:[x(r),d?s.jsx("div",{className:"flx-suffix",children:d}):null]}),s.jsx(b,{children:s.jsx("input",{name:y,type:"range",min:e,max:r,step:l,disabled:o,value:i,onChange:N=>{t==null||t(N.target.value,!1)},onBlur:v,style:{backgroundSize:`${q}% 100%`}})})]})})})});u.displayName="FlxSlider";const K=n.memo(u);K.displayName="MemoFlxSlider";const te={title:"Value Slider",component:u,decorators:[(e,{args:r})=>{const o=z({mode:"onTouched",defaultValues:{slider:""}});return s.jsx(O,{...o,children:s.jsx(k,{name:"slider",label:r.label,disabled:r.disabled,helperText:r.helper,rules:r.requiredError?{validate:{required:c=>c>50||"This field is required"}}:{},hideInsideInfoPoint:r.infoTooltip,children:s.jsx(e,{})})})}],argTypes:{fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:function(r){const{name:o,rules:c}=B(),{watch:a,control:d}=D();return s.jsxs("div",{style:{fontFamily:r.fontFamily},className:"flx-default-theme",children:[s.jsx(L,{name:o,control:d,rules:c,render:({field:l,fieldState:t})=>s.jsx(U,{children:s.jsx(b,{children:s.jsx(u,{style:{width:r.width?`${r.width}px`:"100%"},name:l.name,error:t.error,min:r.min,max:r.max,step:r.step,suffix:r.suffix,showValue:r.showValue,ref:l.ref,value:l.value,onValueChange:l.onChange,debounce:0})})})}),s.jsxs("p",{children:["Slider value: ",a("slider")]})]})}},Q={args:{label:"Slider label",fontFamily:"Open Sans",disabled:!1,helper:"",infoTooltip:!1,requiredError:!1,suffix:"EUR",width:0,min:1,max:100,step:1,showValue:!0}},f={...Q};var F,j,S;f.parameters={...f.parameters,docs:{...(F=f.parameters)==null?void 0:F.docs,source:{originalSource:`{
  ...SliderTemplate
} satisfies Story`,...(S=(j=f.parameters)==null?void 0:j.docs)==null?void 0:S.source}}};const ie=["Slider"];export{f as Slider,ie as __namedExportsOrder,te as default};
