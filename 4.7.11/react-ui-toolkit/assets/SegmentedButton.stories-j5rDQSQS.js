import{j as t}from"./jsx-runtime-CBDCb4rg.js";import{c as C}from"./clsx-B-dksMZM.js";import{r as c}from"./index-B-o1Wr-g.js";import{u as B}from"./index-hPfD200O.js";import{b as O}from"./Radio-Df77H0rJ.js";import{f as N,a as T,u as E,b as h,C as k,c as w,d as V,F as q,e as M}from"./Content-DlMT5peK.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./ChoiceGroup-4MVEf2vz.js";import"./index-qMorCPSe.js";import"./Icon-DQNTWSJm.js";import"./Portal-vLh0jiGk.js";import"./index-DjIwiQkP.js";const y=c.createContext({}),P=()=>{const n=c.useContext(y);if(!n)throw new Error("FlxSegmentedOption must be used within a FlxSegmentedButton");return n},F=c.forwardRef(({id:n,value:e,name:d,className:l,disabled:a,...s},m)=>{const o=P(),i=c.useMemo(()=>{var r;return e.value?(r=o.value)!=null&&r.value?o.value.value===e.value:o.value===e.value:o.value===e},[o.value,e]);return t.jsxs(t.Fragment,{children:[t.jsx("button",{id:n,disabled:o.disabled||a,ref:m,"aria-checked":i,role:"radio",value:e.value||e,...s,className:C(["flx-segmented-option",{selected:i},{disabled:o.disabled||a},l]),onClick:r=>{var x,u;i||(x=o.onValueChange)==null||x.call(o,e),(u=s.onClick)==null||u.call(s,r),r.stopPropagation()},children:e.label!==void 0?e.label:e}),t.jsx(O,{name:d,value:e.value||e,checked:i,disabled:o.disabled||a})]})});F.displayName="FlxSegmentedOption";const R=c.memo(F);R.displayName="MemoFlxSegmentedOption";const f=c.forwardRef(({children:n,disabled:e=!1,onValueChange:d,value:l,className:a,error:s,onBlur:m,defaultValue:o,...i},r)=>{const[x,u]=B({prop:l,defaultProp:o,onChange:d});return t.jsx(y.Provider,{value:{disabled:e,value:x,onValueChange:u},children:t.jsx("div",{ref:r,className:C(["flx-segmented-button",a]),...i,onBlur:g=>{g.relatedTarget||m==null||m(g)},children:t.jsx(N,{error:s,children:t.jsx("div",{className:"flx-segmented-options",children:n})})})})});f.displayName="FlxSegmentedButton";const I=c.memo(f);I.displayName="MemoFlxSegmentedButton";const b=[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}],X={component:f,title:"Segmented Button",decorators:[(n,{args:e})=>{const d=V({mode:"onBlur",defaultValues:{segmented:""}});return t.jsx(q,{...d,children:t.jsx(M,{name:"segmented",label:e.label,disabled:e.disabled,helperText:e.helperText,hideInsideInfoPoint:e.infoTooltip,rules:e.requiredError?{validate:{required:l=>(l.value||l)==="option1"||"Field required"}}:{},children:t.jsx(n,{})})})}],argTypes:{fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:function(e){const{name:d,rules:l}=T(),{setValue:a,watch:s,control:m}=E();return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontFamily:e.fontFamily},className:"flx-default-theme",children:t.jsx(h,{children:t.jsx(k,{name:d,control:m,rules:l,render:({field:{onChange:o,value:i,onBlur:r},fieldState:x})=>t.jsx(h,{children:t.jsx(w,{children:t.jsx(f,{onBlur:r,value:i,onValueChange:o,error:x.error,children:b.map(u=>t.jsx(F,{value:u},u.value))})})})})})}),t.jsxs("p",{children:["Selected option: ",JSON.stringify(s("segmented"))]}),t.jsx("button",{type:"button",onClick:()=>a("segmented","option2"),children:"Set value to option 2 (value)"}),t.jsx("button",{type:"button",onClick:()=>a("segmented",b[2]),children:"Set value to option 3 (object)"})]})}},p={args:{disabled:!1,label:"Segmented Button Label",helperText:"Helper text",infoTooltip:!1,requiredError:!1}};var S,j,v;p.parameters={...p.parameters,docs:{...(S=p.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Segmented Button Label',
    helperText: 'Helper text',
    infoTooltip: false,
    requiredError: false
  }
}`,...(v=(j=p.parameters)==null?void 0:j.docs)==null?void 0:v.source}}};const Y=["SegmentedButton"];export{p as SegmentedButton,Y as __namedExportsOrder,X as default};
