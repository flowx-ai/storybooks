import{j as o}from"./jsx-runtime-CBDCb4rg.js";import{c as E}from"./clsx-B-dksMZM.js";import{r as l}from"./index-B-o1Wr-g.js";import{F as q,u as B}from"./ChoiceGroup-4MVEf2vz.js";import{u as D}from"./index-hPfD200O.js";import{F as L}from"./Icon-DQNTWSJm.js";import{a as R,u as M,F as O,b as T,C as H,c as _,d as V,e as $}from"./Content-DlMT5peK.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-qMorCPSe.js";import"./Portal-vLh0jiGk.js";import"./index-DjIwiQkP.js";const G=l.createContext({}),z=()=>l.useContext(G);function p(r){return r==="indeterminate"}function A(r){return p(r)?"indeterminate":r?"checked":"unchecked"}const J=({style:r={},checked:e=!1,...n})=>{const a=l.useRef(null),s=B(e);return l.useEffect(()=>{const d=a.current,m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(s!==e&&x){const t=new Event("click",{bubbles:!0});d.indeterminate=p(e),x.call(d,p(e)?!1:e),d.dispatchEvent(t)}},[s,e]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:p(e)?!1:e,...n,tabIndex:-1,ref:a,style:{...r,position:"absolute",pointerEvents:"none",margin:0,width:0,height:0}})},k=l.forwardRef(({label:r,choiceIconSelected:e=null,choiceIconUnselected:n=null,name:a,disabled:s,checked:d=!1,defaultChecked:m,reversedLabel:c=!1,value:x="on",onCheckedChange:t,onBlur:u,...b},h)=>{const{noBorder:F}=z(),[I,v]=l.useState(!1),[i=!1,S]=D({prop:d,defaultProp:m,onChange:t}),y=l.useMemo(()=>i?e:n,[i,e,n]);return o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",role:"checkbox",ref:h,disabled:s,"data-state":A(i),"aria-checked":p(i)?"mixed":i,value:x,...b,className:E(["flx-checkbox",{"flx-checkbox-reversed":c},{"flx-checkbox-clear":F}]),onFocus:()=>v(!0),onBlur:C=>{v(!1),u==null||u(C)},onClick:C=>{s||S(w=>p(w)?!0:!w),C.stopPropagation()},children:o.jsxs("label",{className:E(["flx-checkbox-label",{disabled:s},{checked:i},{focused:I},{empty:!i}]),children:[o.jsx("div",{className:"flx-checkbox-icons",children:y?o.jsx("div",{className:"flx-checkbox-icon",children:y}):o.jsx("div",{className:"flx-checkbox-container",children:o.jsx(L,{name:"check"})})}),o.jsx("div",{className:"flx-checkbox-text",children:r})]})}),o.jsx(J,{name:a,value:x,checked:i,disabled:s})]})});k.displayName="FlxCheckbox";const j=l.forwardRef(({children:r,direction:e,noBorder:n=!1,...a},s)=>o.jsx(G.Provider,{value:{noBorder:n},children:o.jsx(q,{direction:e,...a,ref:s,children:r})}));j.displayName="FlxCheckboxGroup";const K=l.memo(j);K.displayName="MemoFlxCheckboxGroup";const Q=["Option 1","Option 2","Option 3"],le={component:k,title:"Choices",decorators:[(r,{args:e})=>o.jsx(O,{...V({mode:"onTouched",defaultValues:{checkbox:[]}}),children:o.jsx($,{name:"checkbox",label:e.label,disabled:e.disabled,helperText:e.helperText,hideInsideInfoPoint:e.infoTooltip,rules:{validate:{required:n=>n.length>0||"This field is required"}},children:o.jsx(r,{})})})],argTypes:{fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}},disabledFirstOption:{control:{type:"boolean"}},groupDirection:{options:["row","column"],control:{type:"select"}}},render:function(e){const{rules:n,name:a,disabled:s}=R(),{control:d,watch:m}=M();return o.jsxs(O,{...form,children:[o.jsx("div",{style:{fontFamily:e.fontFamily},className:"flx-default-theme",children:o.jsx(T,{children:o.jsx(j,{noBorder:e.noBorder,direction:e.groupDirection,style:{width:e.width?`${e.width}px`:"100%"},children:Q.map((c,x)=>o.jsx(H,{disabled:s,control:d,name:a,rules:e.requiredError?n:{},render:({field:t})=>{var u;return o.jsx(T,{children:o.jsx(_,{children:o.jsx(k,{name:t.name,label:c,reversedLabel:e.reversedLabel,disabled:t.disabled||e.disabledFirstOption&&x===0,checked:(u=t.value)==null?void 0:u.includes(c),onBlur:t.onBlur,onCheckedChange:b=>{var h;return b?t.onChange([...t.value,c]):t.onChange((h=t.value)==null?void 0:h.filter(F=>F!==c))}})})})}},c))})})}),o.jsxs("p",{children:["Selected options: ",m("checkbox").join(",")]})]})}},f={args:{disabled:!1,label:"Checkbox label",helperText:"Helper text",infoTooltip:!1,requiredError:!1,reversedLabel:!1,disabledFirstOption:!1,groupDirection:"row",noBorder:!1}};var N,g,P;f.parameters={...f.parameters,docs:{...(N=f.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Checkbox label',
    helperText: 'Helper text',
    infoTooltip: false,
    requiredError: false,
    reversedLabel: false,
    disabledFirstOption: false,
    groupDirection: 'row',
    noBorder: false
  }
}`,...(P=(g=f.parameters)==null?void 0:g.docs)==null?void 0:P.source}}};const ae=["Checkbox"];export{f as Checkbox,ae as __namedExportsOrder,le as default};
