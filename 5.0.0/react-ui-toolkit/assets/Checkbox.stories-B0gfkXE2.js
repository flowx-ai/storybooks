import{j as o}from"./jsx-runtime-DztICxWZ.js";import{r as a}from"./index-Bv9Y92EF.js";import{u as _,F as L,a as P,b as G,C as T,c as D,d as R,f as B,e as H}from"./InfoTooltip-CoD8okQt.js";import{c as g}from"./clsx-B-dksMZM.js";import{a as M,u as $,F as J}from"./ChoiceGroup-p0vZwTdz.js";import{u as X}from"./index-CsL57FjJ.js";import{F as U}from"./Icon-B96PK6rJ.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./Portal-B87B-olk.js";import"./index-CluZi8Ot.js";import"./index-BaC3dPEX.js";const O=a.createContext({}),z=()=>a.useContext(O);function p(r){return r==="indeterminate"}function A(r){return p(r)?"indeterminate":r?"checked":"unchecked"}const K=({style:r={},checked:e=!1,...t})=>{const u=a.useRef(null),l=$(e);return a.useEffect(()=>{const c=u.current,m=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==e&&d){const n=new Event("click",{bubbles:!0});c.indeterminate=p(e),d.call(c,p(e)?!1:e),c.dispatchEvent(n)}},[l,e]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:p(e)?!1:e,...t,tabIndex:-1,ref:u,style:{...r,position:"absolute",pointerEvents:"none",margin:0,width:0,height:0}})},x=a.forwardRef(({label:r,choiceIconSelected:e=null,choiceIconUnselected:t=null,name:u,disabled:l=!1,checked:c=!1,defaultChecked:m,reversedLabel:f=!1,value:d="on",onCheckedChange:n,className:h,onBlur:s,...y},b)=>{const{noBorder:v}=z(),[C,F]=a.useState(!1),[i=!1,V]=X({prop:c,defaultProp:m,onChange:n}),I=a.useMemo(()=>i?e:t,[i,e,t]);return o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",role:"checkbox",ref:b,disabled:l,"data-state":A(i),"aria-checked":p(i)?"mixed":i,value:d,...y,className:g(["flx-checkbox",{"flx-checkbox-reversed":f},{"flx-checkbox-clear":v},h]),onFocus:()=>F(!0),onBlur:j=>{F(!1),s==null||s(j)},onClick:j=>{l||V(q=>p(q)?!0:!q),j.stopPropagation()},children:o.jsxs("label",{className:g(["flx-checkbox-label",{disabled:l},{checked:i},{focused:C},{empty:!i}]),children:[o.jsx("div",{className:"flx-checkbox-icons",children:I?o.jsx("div",{className:"flx-checkbox-icon",children:I}):o.jsx("div",{className:"flx-checkbox-container",children:o.jsx(U,{className:"flx-checkbox-icon",name:"check"})})}),o.jsx("div",{className:"flx-checkbox-text",children:r})]})}),o.jsx(K,{name:u,value:d,checked:i,disabled:l})]})});x.displayName="FlxCheckbox";const E=({children:r,noBorder:e=!1,...t})=>o.jsx(O.Provider,{value:{noBorder:e},children:o.jsx(M,{...t,children:r})});E.displayName="FlxCheckboxGroup";const Q=a.memo(E);Q.displayName="MemoFlxCheckboxGroup";try{x.displayName="FlxCheckbox",x.__docgenInfo={description:"",displayName:"FlxCheckbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},value:{defaultValue:{value:"on"},description:"",name:"value",required:!1,type:{name:"string | undefined"}},defaultChecked:{defaultValue:null,description:"",name:"defaultChecked",required:!1,type:{name:"CheckedState | undefined"}},choiceIconSelected:{defaultValue:{value:"null"},description:"",name:"choiceIconSelected",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},choiceIconUnselected:{defaultValue:{value:"null"},description:"",name:"choiceIconUnselected",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},checked:{defaultValue:{value:"false"},description:"",name:"checked",required:!1,type:{name:"CheckedState | undefined"}},reversedLabel:{defaultValue:{value:"false"},description:"",name:"reversedLabel",required:!1,type:{name:"boolean | undefined"}},onCheckedChange:{defaultValue:null,description:"",name:"onCheckedChange",required:!1,type:{name:"((checked: CheckedState) => void) | undefined"}}}}}catch{}const W=["Option 1","Option 2","Option 3"],ie={component:x,title:"Choices",decorators:[r=>o.jsx(B,{...H({mode:"onChange",defaultValues:{checkbox:[]}}),children:o.jsx(r,{})})],argTypes:{fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}},disabledFirstOption:{control:{type:"boolean"}},groupDirection:{options:["row","column"],control:{type:"select"}}},render:function(e){const t=a.useId(),u=`${t}-form-item`,l=`${t}-form-item-description`,c="checkbox",m=e.requiredError?{validate:{required:n=>n.length>0||"This field is required"}}:{},{control:f,watch:d}=_();return o.jsxs("div",{style:{fontFamily:e.fontFamily},className:"flx-default-theme",children:[o.jsxs(J,{direction:e.groupDirection,children:[o.jsxs(L,{children:[o.jsx(P,{htmlFor:u,disabled:e.disabled,children:e.label}),e.infoTooltip?o.jsx(G,{children:e.helper}):null]}),o.jsx(T,{disabled:e.disabled,control:f,name:c,rules:e.requiredError?m:{},render:({field:n,fieldState:h})=>o.jsxs(o.Fragment,{children:[o.jsx(E,{noBorder:e.noBorder,style:{width:e.width?`${e.width}px`:"100%"},children:W.map((s,y)=>{var b;return o.jsx(x,{name:n.name,label:s,reversedLabel:e.reversedLabel,disabled:n.disabled||e.disabledFirstOption&&y===0,checked:(b=n.value)==null?void 0:b.includes(s),onBlur:n.onBlur,onCheckedChange:v=>{var C;return v?n.onChange([...n.value,s]):n.onChange((C=n.value)==null?void 0:C.filter(F=>F!==s))}},s)})}),!e.infoTooltip&&!h.error?o.jsx(D,{id:l,children:e.helper}):null,o.jsx(R,{error:h.error})]})})]}),o.jsxs("p",{children:["Selected options: ",d(c).join(",")]})]})}},k={args:{disabled:!1,label:"Checkbox label",helper:"Helper text",infoTooltip:!1,requiredError:!1,reversedLabel:!1,disabledFirstOption:!1,groupDirection:"row",noBorder:!1}};var w,N,S;k.parameters={...k.parameters,docs:{...(w=k.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Checkbox label',
    helper: 'Helper text',
    infoTooltip: false,
    requiredError: false,
    reversedLabel: false,
    disabledFirstOption: false,
    groupDirection: 'row',
    noBorder: false
  }
}`,...(S=(N=k.parameters)==null?void 0:N.docs)==null?void 0:S.source}}};const de=["Checkbox"];export{k as Checkbox,de as __namedExportsOrder,ie as default};
