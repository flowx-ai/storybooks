import{j as t}from"./jsx-runtime-DztICxWZ.js";import{r as i}from"./index-Bv9Y92EF.js";import{u as B,C as N,F as _,a as E,b as k,c as w,d as I,e as V,f as q}from"./InfoTooltip-CoD8okQt.js";import{c as C}from"./clsx-B-dksMZM.js";import{u as T}from"./index-CsL57FjJ.js";import{b as M}from"./Radio-BNv8SbhE.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./Icon-B96PK6rJ.js";import"./Portal-B87B-olk.js";import"./index-CluZi8Ot.js";import"./index-BaC3dPEX.js";import"./ChoiceGroup-p0vZwTdz.js";const y=i.createContext({}),R=()=>{const n=i.useContext(y);if(!n)throw new Error("FlxSegmentedOption must be used within a FlxSegmentedButton");return n},x=i.forwardRef(({id:n,value:e,name:u,className:c,disabled:d,...r},p)=>{const o=R(),s=i.useMemo(()=>{var l;return e.value?(l=o.value)!=null&&l.value?o.value.value===e.value:o.value===e.value:o.value===e},[o.value,e]);return t.jsxs(t.Fragment,{children:[t.jsx("button",{id:n,disabled:o.disabled||d,ref:p,"aria-checked":s,role:"radio",value:e.value||e,...r,className:C(["flx-segmented-option",{selected:s},{disabled:o.disabled||d},c]),onClick:l=>{var a,m;s||(a=o.onValueChange)==null||a.call(o,e),(m=r.onClick)==null||m.call(r,l),l.stopPropagation()},children:e.label??e}),t.jsx(M,{name:u,value:e.value||e,checked:s,disabled:o.disabled||d})]})});x.displayName="FlxSegmentedOption";const H=i.memo(x);H.displayName="MemoFlxSegmentedOption";const F=i.forwardRef(({children:n,disabled:e=!1,onValueChange:u,value:c,className:d,onBlur:r,defaultValue:p,...o},s)=>{const[l,a]=T({prop:c,defaultProp:p,onChange:u});return t.jsx(y.Provider,{value:{disabled:e,value:l,onValueChange:a},children:t.jsx("div",{ref:s,className:C(["flx-segmented-button",d]),...o,onBlur:m=>{m.relatedTarget||r==null||r(m)},children:n})})});F.displayName="FlxSegmentedButton";const L=({children:n})=>t.jsx("div",{className:"flx-segmented-options",children:n}),P=i.memo(F);P.displayName="MemoFlxSegmentedButton";try{x.displayName="FlxSegmentedOption",x.__docgenInfo={description:"",displayName:"FlxSegmentedOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ label: string; value: unknown; }"}}}}}catch{}const h=[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}],Z={component:F,title:"Segmented Button",decorators:[n=>{const e=V({mode:"onBlur",defaultValues:{segmented:""}});return t.jsx(q,{...e,children:t.jsx(n,{})})}],argTypes:{fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:function(e){const u=i.useId(),c=`${u}-form-item`,d=`${u}-form-item-description`,r="segmented",p=e.requiredError?{validate:{required:a=>(a.value||a)==="option1"||"Field required"}}:{},{setValue:o,watch:s,control:l}=B();return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontFamily:e.fontFamily},className:"flx-default-theme",children:t.jsx(N,{name:r,control:l,rules:p,render:({field:{onChange:a,value:m,onBlur:O},fieldState:g})=>t.jsxs(F,{onBlur:O,value:m,onValueChange:a,children:[t.jsxs(_,{children:[t.jsx(E,{htmlFor:c,disabled:e.disabled,children:e.label}),e.infoTooltip?t.jsx(k,{children:e.helper}):null]}),t.jsx(L,{children:h.map(b=>t.jsx(x,{value:b},b.value))}),!e.infoTooltip&&!g.error?t.jsx(w,{id:d,children:e.helper}):null,t.jsx(I,{error:g.error})]})})}),t.jsxs("p",{children:["Selected option: ",JSON.stringify(s("segmented"))]}),t.jsx("button",{type:"button",onClick:()=>o("segmented","option2"),children:"Set value to option 2 (value)"}),t.jsx("button",{type:"button",onClick:()=>o("segmented",h[2]),children:"Set value to option 3 (object)"})]})}},f={args:{disabled:!1,label:"Segmented Button Label",helper:"Helper text",infoTooltip:!1,requiredError:!1}};var S,j,v;f.parameters={...f.parameters,docs:{...(S=f.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Segmented Button Label',
    helper: 'Helper text',
    infoTooltip: false,
    requiredError: false
  }
}`,...(v=(j=f.parameters)==null?void 0:j.docs)==null?void 0:v.source}}};const ee=["SegmentedButton"];export{f as SegmentedButton,ee as __namedExportsOrder,Z as default};
