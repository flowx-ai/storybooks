import{j as i}from"./jsx-runtime-DztICxWZ.js";import{r as m}from"./index-Bv9Y92EF.js";import{c as V}from"./clsx-B-dksMZM.js";import{M as j}from"./Button-B9BL4a0C.js";import"./_commonjsHelpers-Cpj98o6Y.js";const z=(t,e)=>e&&t.size>e?{fileSizeExceeded:"File size exceeded"}:{},T=(t,e)=>{if(!e||e==="*/*")return{};const a=e.split(",").map(l=>l.trim());for(const l of a){if(l===t.type)return{};if(l.includes("*")&&l.split("/")[0]===t.type.split("/")[0])return{};if(t.name.endsWith(l))return{}}return{invalidFileType:"File type is invalid"}},_=t=>!t||t==="*/*"?t:t.split(",").map(e=>(e=e.trim(),e.startsWith(".")||e.includes("/")||e.includes("*")?e:`.${e}`)).join(","),n=m.forwardRef(({className:t,label:e,accept:a="*/*",maxFileSize:l,dataTestId:f,buttonVariant:o,onFileSelect:r,...d},p)=>{const s=m.useRef(null),h=_(a),b=()=>{s.current&&s.current.click()},U=S=>{var x;const u=(x=S.currentTarget.files)==null?void 0:x[0];u&&(r==null||r({file:u,errors:{...z(u,l),...T(u,a)}}))};return i.jsxs(i.Fragment,{children:[i.jsx(j,{"data-testid":f,className:V("flx-fileupload-button",t),ref:p,onClick:b,variant:o,...d,children:e}),i.jsx("input",{type:"file",accept:h,ref:s,onChange:U})]})});n.displayName="FlxFileUpload";const v=m.memo(n);v.displayName="MemoFlxFileUpload";try{n.displayName="FlxFileUpload",n.__docgenInfo={description:"",displayName:"FlxFileUpload",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},accept:{defaultValue:{value:"*/*"},description:"",name:"accept",required:!1,type:{name:"string | undefined"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},maxFileSize:{defaultValue:null,description:"",name:"maxFileSize",required:!1,type:{name:"number | undefined"}},buttonVariant:{defaultValue:null,description:"",name:"buttonVariant",required:!1,type:{name:'"text" | "fill" | "ghost" | undefined'}},onFileSelect:{defaultValue:null,description:"",name:"onFileSelect",required:!1,type:{name:"((event: FileUploadEvent) => void) | undefined"}}}}}catch{}const N=({label:t,buttonVariant:e,disabled:a,width:l,fontFamily:f})=>{var d,p;const[o,r]=m.useState({errors:{}});return i.jsxs("div",{className:"flx-default-theme",children:[i.jsx(n,{className:"custom-class",buttonVariant:e,disabled:a,style:{width:l&&l>0?`${l}px`:"auto","--flxTheme-button-fontFamily":f},label:t,onFileSelect:s=>r(s)}),i.jsx("hr",{}),i.jsxs("p",{children:["Uploaded file: ",(d=o.file)==null?void 0:d.name," (size: ",(p=o.file)==null?void 0:p.size," kb)"]})]})},M={title:"FileUpload",component:n,argTypes:{asChild:{table:{disable:!0}},iconComponent:{table:{disable:!0}},buttonVariant:{options:["fill","ghost","text"],mapping:{none:null,fill:"fill",ghost:"ghost",text:"text"},control:{type:"select"}},fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:N,parameters:{design:{type:"figma",url:"https://www.figma.com/file/2n2umsSLJbNigLx43nseml/FlowX-Design-System?node-id=5599%3A5879"}}},q={args:{label:"Upload",buttonVariant:"ghost",fontFamily:"Open Sans",width:0,disabled:!1,maxFileSize:0,accept:""}},c={...q};var F,y,g;c.parameters={...c.parameters,docs:{...(F=c.parameters)==null?void 0:F.docs,source:{originalSource:`{
  ...FileUploadTemplate
} satisfies Story`,...(g=(y=c.parameters)==null?void 0:y.docs)==null?void 0:g.source}}};const A=["FileUpload"];export{c as FileUpload,A as __namedExportsOrder,M as default};
