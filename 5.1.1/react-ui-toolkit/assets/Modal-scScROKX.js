var Dt=Object.defineProperty;var Vt=(e,n,t)=>n in e?Dt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var $=(e,n,t)=>Vt(e,typeof n!="symbol"?n+"":n,t);import{j as F}from"./jsx-runtime-DztICxWZ.js";import{c as jt}from"./clsx-B-dksMZM.js";import{r as g,b as ht}from"./index-Bv9Y92EF.js";import{M as Lt}from"./Icon-Da6wEY94.js";import{f as Ee,u as ce,m as At,c as Ye,E as ye,N as bt,b as qt}from"./useRenderElement-CQQ5I8lv.js";import{s as yt,c as Z,b as le,u as _,l as Ce,a as Wt}from"./floating-ui.utils.dom-cLmtQo3s.js";import{h as J,r as Ke,s as De,f as ue,e as z,g as ve,t as vt,o as de,u as _t}from"./owner-BLNona6N.js";import{p as St,a as Bt,j as $t,u as Xe,k as Rt,l as je,c as Je,m as Qe,v as zt,e as Ze,F as et,n as tt,o as Ut,q as Ht,r as Et,C as Gt,s as Yt,b as Kt,w as pe,x as Xt,T as nt,d as Jt,f as Qt,h as Zt,g as en}from"./useInteractions-DwvY_w4P.js";import{t as Ct,u as me,d as tn,r as se,a as xt,A as nn}from"./useOpenChangeComplete-DtBfQTi2.js";import{u as on}from"./useTransitionStatus-D3wENK3H.js";import{c as Le}from"./createBaseUIEventDetails-2goIIMRX.js";import{i as rn}from"./inertValue-BGgNEdMY.js";import{C as sn}from"./composite-DpKW5ESM.js";import{b as an,c as ln,s as un}from"./event-BieJfEq0.js";import{a as cn}from"./useButton-BpCaeLYm.js";import{u as wt}from"./useBaseUiId-BJFIvnQ9.js";const Tt=g.createContext(void 0);function re(e){const n=g.useContext(Tt);if(e===!1&&n===void 0)throw new Error(Ee(27));return n}const dn={...St,...Ct},fn=g.forwardRef(function(n,t){const{render:o,className:s,forceRender:r=!1,...a}=n,{store:l}=re(),i=l.useState("open"),u=l.useState("nested"),c=l.useState("mounted"),h=l.useState("transitionStatus"),d=g.useMemo(()=>({open:i,transitionStatus:h}),[i,h]);return ce("div",n,{state:d,ref:[l.context.backdropRef,t],stateAttributesMapping:dn,props:[{role:"presentation",hidden:!c,style:{userSelect:"none",WebkitUserSelect:"none"}},a],enabled:r||!u})});function pn(e){const{open:n,setOpen:t,disabled:o,nativeButton:s}=e;function r(u){n&&t(!1,Le("close-press",u.nativeEvent))}const{getButtonProps:a,buttonRef:l}=cn({disabled:o,native:s});return{getRootProps:u=>At({onClick:r},u,a),ref:l}}const mn=g.forwardRef(function(n,t){const{render:o,className:s,disabled:r=!1,nativeButton:a=!0,...l}=n,{store:i}=re(),u=i.useState("open"),{getRootProps:c,ref:h}=pn({disabled:r,open:u,setOpen:i.setOpen,nativeButton:a}),d=g.useMemo(()=>({disabled:r}),[r]);return ce("button",n,{state:d,ref:[t,h],props:[l,c]})}),gn=g.forwardRef(function(n,t){const{render:o,className:s,id:r,...a}=n,{store:l}=re(),i=wt(r);return l.useSyncedValueWithCleanup("descriptionElementId",i),ce("p",n,{ref:t,props:[{id:i},a]})});let ot=0;function ke(e,n={}){const{preventScroll:t=!1,cancelPrevious:o=!0,sync:s=!1}=n;o&&cancelAnimationFrame(ot);const r=()=>e==null?void 0:e.focus({preventScroll:t});s?r():ot=requestAnimationFrame(r)}const ie={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function rt(e){return e==="inert"?ie.inert:e==="aria-hidden"?ie["aria-hidden"]:ie.none}let ge=new WeakSet,he={},Ie=0;const kt=e=>e&&(e.host||kt(e.parentNode)),hn=(e,n)=>n.map(t=>{if(e.contains(t))return t;const o=kt(t);return e.contains(o)?o:null}).filter(t=>t!=null);function bn(e,n,t,o){const s="data-base-ui-inert",r=o?"inert":t?"aria-hidden":null,a=hn(n,e),l=new Set,i=new Set(a),u=[];he[s]||(he[s]=new WeakMap);const c=he[s];a.forEach(h),d(n),l.clear();function h(f){!f||l.has(f)||(l.add(f),f.parentNode&&h(f.parentNode))}function d(f){!f||i.has(f)||[].forEach.call(f.children,p=>{if(yt(p)!=="script")if(l.has(p))d(p);else{const m=r?p.getAttribute(r):null,y=m!==null&&m!=="false",T=rt(r),x=(T.get(p)||0)+1,b=(c.get(p)||0)+1;T.set(p,x),c.set(p,b),u.push(p),x===1&&y&&ge.add(p),b===1&&p.setAttribute(s,""),!y&&r&&p.setAttribute(r,r==="inert"?"":"true")}})}return Ie+=1,()=>{u.forEach(f=>{const p=rt(r),y=(p.get(f)||0)-1,T=(c.get(f)||0)-1;p.set(f,y),c.set(f,T),y||(!ge.has(f)&&r&&f.removeAttribute(r),ge.delete(f)),T||f.removeAttribute(s)}),Ie-=1,Ie||(ie.inert=new WeakMap,ie["aria-hidden"]=new WeakMap,ie.none=new WeakMap,ge=new WeakSet,he={})}}function yn(e,n=!1,t=!1){const o=J(e[0]).body;return bn(e.concat(Array.from(o.querySelectorAll("[aria-live]"))),o,n,t)}function vn(e,n){const t=Ce(e.target);return e instanceof t.KeyboardEvent?"keyboard":e instanceof t.FocusEvent?n||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof t.MouseEvent?n||(e.detail===0?"keyboard":"mouse"):""}const st=20;let ee=[];function Ae(){ee=ee.filter(e=>e.isConnected)}function Sn(e){Ae(),e&&yt(e)!=="body"&&(ee.push(e),ee.length>st&&(ee=ee.slice(-st)))}function Me(){return Ae(),ee[ee.length-1]}function Rn(e){if(!e)return null;const n=je();return Et(e,n)?e:Rt(e,n)[0]||e}function it(e,n){var a;if(!n.current.includes("floating")&&!((a=e.getAttribute("role"))!=null&&a.includes("dialog")))return;const t=je(),s=Yt(e,t).filter(l=>{const i=l.getAttribute("data-tabindex")||"";return Et(l,t)||l.hasAttribute("data-tabindex")&&!i.startsWith("-")}),r=e.getAttribute("tabindex");n.current.includes("floating")||s.length===0?r!=="0"&&e.setAttribute("tabindex","0"):(r!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function En(e){const{context:n,children:t,disabled:o=!1,order:s=["content"],initialFocus:r=!0,returnFocus:a=!0,restoreFocus:l=!1,modal:i=!0,closeOnFocusOut:u=!0,openInteractionType:c="",getInsideElements:h=()=>[],nextFocusableElement:d,previousFocusableElement:f,beforeContentFocusGuardRef:p}=e,{open:m,onOpenChange:y,events:T,dataRef:x,elements:{domReference:b,floating:v,triggers:D}}=n,O=Z(()=>{var R;return(R=x.current.floatingContext)==null?void 0:R.nodeId}),P=Z(h),U=r===!1,A=Ke(b)&&U,V=me(s),te=me(r),ne=me(a),fe=me(c),W=Bt(),S=$t(),B=g.useRef(null),Y=g.useRef(null),q=g.useRef(!1),xe=g.useRef(!1),qe=g.useRef(-1),We=g.useRef(""),we=g.useRef(""),_e=Xe(),Be=Xe(),$e=tn(),Te=S!=null,C=De(v),oe=Z((R=C)=>R?Rt(R,je()):[]),ae=Z(R=>{const I=oe(R);return V.current.map(()=>I).filter(Boolean).flat()});g.useEffect(()=>{if(o||!i)return;function R(w){w.key==="Tab"&&z(C,ue(J(C)))&&oe().length===0&&!A&&un(w)}const I=J(C);return I.addEventListener("keydown",R),()=>{I.removeEventListener("keydown",R)}},[o,b,C,i,V,A,oe,ae]),g.useEffect(()=>{if(o||!v)return;function R(I){const w=ve(I),j=oe().indexOf(w);j!==-1&&(qe.current=j)}return v.addEventListener("focusin",R),()=>{v.removeEventListener("focusin",R)}},[o,v,oe]),g.useEffect(()=>{if(o||!m)return;const R=J(C);function I(M){we.current=M.pointerType||"keyboard"}function w(){we.current="keyboard"}return R.addEventListener("pointerdown",I,!0),R.addEventListener("keydown",w,!0),()=>{R.removeEventListener("pointerdown",I,!0),R.removeEventListener("keydown",w,!0)}},[o,v,b,C,m]),g.useEffect(()=>{if(o||!u)return;function R(){xe.current=!0,Be.start(0,()=>{xe.current=!1})}function I(E){const k=E.relatedTarget,K=E.currentTarget,L=ve(E);queueMicrotask(()=>{const H=O(),Nt=!(z(b,k)||z(v,k)||z(k,v)||z(S==null?void 0:S.portalNode,k)||D!=null&&D.some(G=>z(G,k))||k!=null&&k.hasAttribute(Je("focus-guard"))||W&&(Ze(W.nodesRef.current,H).find(G=>{var X,Q;return z((X=G.context)==null?void 0:X.elements.floating,k)||z((Q=G.context)==null?void 0:Q.elements.domReference,k)})||Qe(W.nodesRef.current,H).find(G=>{var X,Q,Ge;return[(X=G.context)==null?void 0:X.elements.floating,De((Q=G.context)==null?void 0:Q.elements.floating)].includes(k)||((Ge=G.context)==null?void 0:Ge.elements.domReference)===k})));if(K===b&&C&&it(C,V),l&&K!==b&&!(L!=null&&L.isConnected)&&ue(J(C))===J(C).body){if(le(C)&&(C.focus(),l==="popup")){$e.request(()=>{C.focus()});return}const G=qe.current,X=oe(),Q=X[G]||X[X.length-1]||C;le(Q)&&Q.focus()}if(x.current.insideReactTree){x.current.insideReactTree=!1;return}(A||!i)&&k&&Nt&&(A||k!==Me())&&(q.current=!0,y(!1,Le("focus-out",E)))})}function w(){x.current.insideReactTree=!0,_e.start(0,()=>{x.current.insideReactTree=!1})}const M=le(b)?b:null,j=[];if(!(!v&&!M))return M&&(M.addEventListener("focusout",I),M.addEventListener("pointerdown",R),j.push(()=>{M.removeEventListener("focusout",I),M.removeEventListener("pointerdown",R)})),v&&(v.addEventListener("focusout",I),S&&(v.addEventListener("focusout",w,!0),j.push(()=>{v.removeEventListener("focusout",w,!0)})),j.push(()=>{v.removeEventListener("focusout",I)})),()=>{j.forEach(E=>{E()})}},[o,b,v,C,i,W,S,y,u,l,oe,A,O,V,x,_e,Be,$e,D]);const ze=g.useRef(null),Ue=g.useRef(null),Ft=Ye(ze,p,S==null?void 0:S.beforeInsideRef),Pt=Ye(Ue,S==null?void 0:S.afterInsideRef);g.useEffect(()=>{var E,k,K;if(o||!v||!m)return;const R=Array.from(((E=S==null?void 0:S.portalNode)==null?void 0:E.querySelectorAll(`[${Je("portal")}]`))||[]),w=(K=(k=(W?Qe(W.nodesRef.current,O()):[]).find(L=>{var H;return Ke(((H=L.context)==null?void 0:H.elements.domReference)||null)}))==null?void 0:k.context)==null?void 0:K.elements.domReference,M=[v,w,...R,...P(),B.current,Y.current,ze.current,Ue.current,S==null?void 0:S.beforeOutsideRef.current,S==null?void 0:S.afterOutsideRef.current,se(f),se(d),A?b:null].filter(L=>L!=null),j=yn(M,i||A);return()=>{j()}},[m,o,b,v,i,V,S,A,W,O,P,d,f]),_(()=>{if(!m||o||!le(C))return;const R=J(C),I=ue(R);queueMicrotask(()=>{const w=ae(C),M=te.current,j=typeof M=="function"?M(fe.current||""):M;if(j===void 0||j===!1)return;let E;j===!0||j===null?E=w[0]||C:E=se(j),E=E||w[0]||C,!z(C,I)&&ke(E,{preventScroll:E===C})})},[o,m,C,U,ae,te,fe]),_(()=>{if(o||!C)return;const R=J(C),I=ue(R);Sn(I);function w(E){if(E.open||(We.current=vn(E.nativeEvent,we.current)),E.reason==="trigger-hover"&&E.nativeEvent.type==="mouseleave"&&(q.current=!0),E.reason==="outside-press")if(E.nested)q.current=!1;else if(an(E.nativeEvent)||ln(E.nativeEvent))q.current=!1;else{let k=!1;document.createElement("div").focus({get preventScroll(){return k=!0,!1}}),k?q.current=!1:q.current=!0}}T.on("openchange",w);const M=R.createElement("span");M.setAttribute("tabindex","-1"),M.setAttribute("aria-hidden","true"),Object.assign(M.style,zt),Te&&b&&b.insertAdjacentElement("afterend",M);function j(){const E=ne.current;let k=typeof E=="function"?E(We.current):E;if(k===void 0||k===!1)return null;if(k===null&&(k=!0),typeof k=="boolean"){const L=b||Me();return L&&L.isConnected?L:M}const K=b||Me()||M;return se(k)||K}return()=>{T.off("openchange",w);const E=ue(R),k=z(v,E)||W&&Ze(W.nodesRef.current,O(),!1).some(L=>{var H;return z((H=L.context)==null?void 0:H.elements.floating,E)}),K=j();queueMicrotask(()=>{const L=Rn(K),H=typeof ne.current!="boolean";ne.current&&!q.current&&le(L)&&(!(!H&&L!==E&&E!==R.body)||k)&&L.focus({preventScroll:!0}),M.remove()})}},[o,v,C,ne,x,T,W,Te,b,O]),g.useEffect(()=>{queueMicrotask(()=>{q.current=!1})},[o]),g.useEffect(()=>{if(o||!m)return;function R(w){const M=ve(w);M!=null&&M.closest(`[${Gt}]`)&&(xe.current=!0)}const I=J(C);return I.addEventListener("pointerdown",R,!0),()=>{I.removeEventListener("pointerdown",R,!0)}},[o,m,C]),_(()=>{if(!o&&S)return S.setFocusManagerState({modal:i,closeOnFocusOut:u,open:m,onOpenChange:y,domReference:b}),()=>{S.setFocusManagerState(null)}},[o,S,i,m,y,u,b]),_(()=>{if(!(o||!C))return it(C,V),()=>{queueMicrotask(Ae)}},[o,C,V]);const He=!o&&(i?!A:!0)&&(Te||i);return F.jsxs(g.Fragment,{children:[He&&F.jsx(et,{"data-type":"inside",ref:Ft,onFocus:R=>{var I;if(i){const w=ae();ke(w[w.length-1])}else if(S!=null&&S.portalNode)if(q.current=!1,tt(R,S.portalNode)){const w=Ut(b);w==null||w.focus()}else(I=se(f??S.beforeOutsideRef))==null||I.focus()}}),t,He&&F.jsx(et,{"data-type":"inside",ref:Pt,onFocus:R=>{var I;if(i)ke(ae()[0]);else if(S!=null&&S.portalNode)if(u&&(q.current=!0),tt(R,S.portalNode)){const w=Ht(b);w==null||w.focus()}else(I=se(d??S.afterOutsideRef))==null||I.focus()}})]})}const Cn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function xn(e,n={}){var T;const{open:t,elements:o,floatingId:s}=e,{enabled:r=!0,role:a="dialog"}=n,l=Wt(),i=((T=o.domReference)==null?void 0:T.id)||l,u=g.useMemo(()=>{var x;return((x=De(o.floating))==null?void 0:x.id)||s},[o.floating,s]),c=Cn.get(a)??a,d=Kt()!=null,f=g.useMemo(()=>c==="tooltip"||a==="label"?ye:{"aria-haspopup":c==="alertdialog"?"dialog":c,"aria-expanded":"false",...c==="listbox"&&{role:"combobox"},...c==="menu"&&d&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[c,d,a]),p=g.useMemo(()=>c==="tooltip"||a==="label"?{[`aria-${a==="label"?"labelledby":"describedby"}`]:t?u:void 0}:{...f,"aria-expanded":t?"true":"false","aria-controls":t?u:void 0,...c==="menu"&&{id:i}},[c,u,t,i,a,f]),m=g.useMemo(()=>{const x={id:u,...c&&{role:c}};return c==="tooltip"||a==="label"?x:{...x,...c==="menu"&&{"aria-labelledby":i}}},[c,u,i,a]),y=g.useCallback(({active:x,selected:b})=>{const v={role:"option",...x&&{id:`${u}-fui-option`}};switch(a){case"select":case"combobox":return{...v,"aria-selected":b}}return{}},[u,a]);return g.useMemo(()=>r?{reference:p,floating:m,item:y,trigger:f}:{},[r,p,m,f,y])}let wn=(function(e){return e.nestedDialogs="--nested-dialogs",e})({}),Tn=(function(e){return e[e.open=pe.open]="open",e[e.closed=pe.closed]="closed",e[e.startingStyle=pe.startingStyle]="startingStyle",e[e.endingStyle=pe.endingStyle]="endingStyle",e.nested="data-nested",e.nestedDialogOpen="data-nested-dialog-open",e})({});const kn=g.forwardRef(function(n,t){const{cutout:o,...s}=n;let r;if(o){const a=o==null?void 0:o.getBoundingClientRect();r=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${a.left}px ${a.top}px,
      ${a.left}px ${a.bottom}px,
      ${a.right}px ${a.bottom}px,
      ${a.right}px ${a.top}px,
      ${a.left}px ${a.top}px
    )`}return F.jsx("div",{ref:t,role:"presentation","data-base-ui-inert":"",...s,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:r}})}),It=g.createContext(void 0);function In(){const e=g.useContext(It);if(e===void 0)throw new Error(Ee(26));return e}const Mn={...St,...Ct,nestedDialogOpen(e){return e?{[Tn.nestedDialogOpen]:""}:null}},On=g.forwardRef(function(n,t){const{className:o,finalFocus:s,initialFocus:r,render:a,...l}=n,{store:i}=re(),u=i.useState("descriptionElementId"),c=i.useState("dismissible"),h=i.useState("floatingRootContext"),d=i.useState("popupProps"),f=i.useState("modal"),p=i.useState("mounted"),m=i.useState("nested"),y=i.useState("nestedOpenDialogCount"),T=i.useState("open"),x=i.useState("openMethod"),b=i.useState("titleElementId"),v=i.useState("transitionStatus");In(),xt({open:T,ref:i.context.popupRef,onComplete(){var V,te;T&&((te=(V=i.context).onOpenChangeComplete)==null||te.call(V,!0))}});function D(V){return V==="touch"?i.context.popupRef.current:!0}const O=r===void 0?D:r,P=y>0,U=g.useMemo(()=>({open:T,nested:m,transitionStatus:v,nestedDialogOpen:P}),[T,m,v,P]),A=ce("div",n,{state:U,props:[d,{"aria-labelledby":b??void 0,"aria-describedby":u??void 0,role:"dialog",tabIndex:-1,hidden:!p,onKeyDown(V){sn.has(V.key)&&V.stopPropagation()},style:{[wn.nestedDialogs]:y}},l],ref:[t,i.context.popupRef,i.getElementSetter("popupElement")],stateAttributesMapping:Mn});return F.jsxs(g.Fragment,{children:[p&&f===!0&&F.jsx(kn,{ref:i.context.internalBackdropRef,inert:rn(!T)}),F.jsx(En,{context:h,openInteractionType:x,disabled:!p,closeOnFocusOut:c,initialFocus:O,returnFocus:s,modal:f!==!1,restoreFocus:"popup",children:A})]})}),Fn=g.forwardRef(function(n,t){const{keepMounted:o=!1,...s}=n,{store:r}=re();return r.useState("mounted")||o?F.jsx(It.Provider,{value:o,children:F.jsx(Xt,{ref:t,...s})}):null});let at={},lt={},ut="";function Pn(e){if(typeof document>"u")return!1;const n=de(e);return Ce(n).innerWidth-n.documentElement.clientWidth>0}function Nn(e){const t=de(e).documentElement,o=t.style.overflow;return t.style.overflow="hidden",()=>{t.style.overflow=o}}function Dn(e){var h;const n=de(e),t=n.documentElement,o=n.body,s=Ce(t);let r=0,a=0;const l=nn.create();if(vt&&(((h=s.visualViewport)==null?void 0:h.scale)??1)!==1)return()=>{};function i(){var P;const d=s.getComputedStyle(t),f=s.getComputedStyle(o);r=t.scrollTop,a=t.scrollLeft,at={scrollbarGutter:t.style.scrollbarGutter,overflowY:t.style.overflowY,overflowX:t.style.overflowX},ut=t.style.scrollBehavior,lt={position:o.style.position,height:o.style.height,width:o.style.width,boxSizing:o.style.boxSizing,overflowY:o.style.overflowY,overflowX:o.style.overflowX,scrollBehavior:o.style.scrollBehavior};const p=typeof CSS<"u"&&((P=CSS.supports)==null?void 0:P.call(CSS,"scrollbar-gutter","stable")),m=t.scrollHeight>t.clientHeight,y=t.scrollWidth>t.clientWidth,T=d.overflowY==="scroll"||f.overflowY==="scroll",x=d.overflowX==="scroll"||f.overflowX==="scroll",b=Math.max(0,s.innerWidth-t.clientWidth),v=Math.max(0,s.innerHeight-t.clientHeight),D=parseFloat(f.marginTop)+parseFloat(f.marginBottom),O=parseFloat(f.marginLeft)+parseFloat(f.marginRight);Object.assign(t.style,{scrollbarGutter:"stable",overflowY:!p&&(m||T)?"scroll":"hidden",overflowX:!p&&(y||x)?"scroll":"hidden"}),Object.assign(o.style,{position:"relative",height:D||v?`calc(100dvh - ${D+v}px)`:"100dvh",width:O||b?`calc(100vw - ${O+b}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),o.scrollTop=r,o.scrollLeft=a,t.setAttribute("data-base-ui-scroll-locked",""),t.style.scrollBehavior="unset"}function u(){Object.assign(t.style,at),Object.assign(o.style,lt),t.scrollTop=r,t.scrollLeft=a,t.removeAttribute("data-base-ui-scroll-locked"),t.style.scrollBehavior=ut}function c(){u(),l.request(i)}return i(),s.addEventListener("resize",c),()=>{l.cancel(),u(),s.removeEventListener("resize",c)}}class Vn{constructor(){$(this,"lockCount",0);$(this,"restore",null);$(this,"timeoutLock",nt.create());$(this,"timeoutUnlock",nt.create());$(this,"release",()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)});$(this,"unlock",()=>{var n;this.lockCount===0&&this.restore&&((n=this.restore)==null||n.call(this),this.restore=null)})}acquire(n){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(n)),this.release}lock(n){if(this.lockCount===0||this.restore!==null)return;const o=de(n).documentElement,s=Ce(o).getComputedStyle(o).overflowY;if(s==="hidden"||s==="clip"){this.restore=bt;return}const r=_t||!Pn(n);this.restore=r?Nn(n):Dn(n)}}const jn=new Vn;function Ln(e){const{enabled:n=!0,mounted:t,open:o,referenceElement:s=null}=e;_(()=>{if(n&&vt&&t&&!o){const r=de(s),a=r.body.style.userSelect,l=r.body.style.webkitUserSelect;return r.body.style.userSelect="none",r.body.style.webkitUserSelect="none",()=>{r.body.style.userSelect=a,r.body.style.webkitUserSelect=l}}},[n,t,o,s]),_(()=>{if(n)return jn.acquire(s)},[n,s])}function An(e){const n=g.useRef(""),t=g.useCallback(s=>{s.defaultPrevented||(n.current=s.pointerType,e(s,s.pointerType))},[e]);return{onClick:g.useCallback(s=>{if(s.detail===0){e(s,"keyboard");return}"pointerType"in s&&e(s,s.pointerType),e(s,n.current),n.current=""},[e]),onPointerDown:t}}function qn(e){const[n,t]=g.useState(null),o=Z((l,i)=>{e||t(i)}),s=g.useCallback(()=>{t(null)},[]),{onClick:r,onPointerDown:a}=An(o);return g.useMemo(()=>({openMethod:n,reset:s,triggerProps:{onClick:r,onPointerDown:a}}),[n,s,r,a])}function Wn(e){const{store:n,parentContext:t,actionsRef:o,triggerIdProp:s}=e,r=n.useState("open"),a=n.useState("dismissible"),l=n.useState("modal"),i=n.useState("activeTriggerElement"),u=n.useState("popupElement"),c=n.useState("triggers"),h=n.useState("activeTriggerId"),{mounted:d,setMounted:f,transitionStatus:p}=on(r);let m=null;d===!0&&s===void 0&&c.size===1?m=c.keys().next().value||null:m=h??null,_(()=>{n.set("mounted",d),d||(n.set("activeTriggerId",null),n.set("payload",void 0))},[n,d]),_(()=>{r&&n.set("activeTriggerId",m)},[n,m,r]);const{openMethod:y,triggerProps:T,reset:x}=qn(r),b=Z(()=>{var B,Y;f(!1),n.update({open:!1,mounted:!1,activeTriggerId:null}),(Y=(B=n.context).onOpenChangeComplete)==null||Y.call(B,!1),x()}),v=Z(B=>{const Y=Le(B);return Y.preventUnmountOnClose=()=>{n.context.preventUnmountingOnCloseRef.current=!0},Y}),D=g.useCallback(()=>{n.setOpen(!1,v("imperative-action"))},[n,v]);xt({enabled:!n.context.preventUnmountingOnCloseRef.current,open:r,ref:n.context.popupRef,onComplete(){r||b()}}),g.useImperativeHandle(o,()=>({unmount:b,close:D}),[b,D]);const O=Jt({elements:{reference:i,floating:u,triggers:Array.from(c.values())},open:r,onOpenChange:n.setOpen,noEmit:!0}),[P,U]=g.useState(0),A=P===0,V=xn(O),te=Qt(O,{outsidePressEvent(){return n.context.internalBackdropRef.current||n.context.backdropRef.current?"intentional":{mouse:l==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}},outsidePress(B){if(B.button!==0)return!1;const Y=ve(B);if(A&&a){const q=Y;return l&&(n.context.internalBackdropRef.current||n.context.backdropRef.current)?n.context.internalBackdropRef.current===q||n.context.backdropRef.current===q:!0}return!1},escapeKey:A});Ln({enabled:r&&l===!0,mounted:d,open:r,referenceElement:u});const{getReferenceProps:ne,getFloatingProps:fe,getTriggerProps:W}=Zt([V,te]);n.useContextCallback("onNestedDialogOpen",B=>{U(B+1)}),n.useContextCallback("onNestedDialogClose",()=>{U(0)}),g.useEffect(()=>(t!=null&&t.onNestedDialogOpen&&r&&t.onNestedDialogOpen(P),t!=null&&t.onNestedDialogClose&&!r&&t.onNestedDialogClose(),()=>{t!=null&&t.onNestedDialogClose&&r&&t.onNestedDialogClose()}),[r,t,P]);const S=g.useMemo(()=>ne(T),[ne,T]);n.useSyncedValues({openMethod:y,transitionStatus:p,activeTriggerProps:S,inactiveTriggerProps:W(T),popupProps:fe(),floatingRootContext:O,nestedOpenDialogCount:P})}var Se=Symbol("NOT_FOUND");function _n(e,n=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(n)}function Bn(e,n=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(n)}function $n(e,n="expected all items to be functions, instead received the following types: "){if(!e.every(t=>typeof t=="function")){const t=e.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${n}[${t}]`)}}var ct=e=>Array.isArray(e)?e:[e];function zn(e){const n=Array.isArray(e[0])?e[0]:e;return $n(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}function Un(e,n){const t=[],{length:o}=e;for(let s=0;s<o;s++)t.push(e[s].apply(null,n));return t}function Hn(e){let n;return{get(t){return n&&e(n.key,t)?n.value:Se},put(t,o){n={key:t,value:o}},getEntries(){return n?[n]:[]},clear(){n=void 0}}}function Gn(e,n){let t=[];function o(l){const i=t.findIndex(u=>n(l,u.key));if(i>-1){const u=t[i];return i>0&&(t.splice(i,1),t.unshift(u)),u.value}return Se}function s(l,i){o(l)===Se&&(t.unshift({key:l,value:i}),t.length>e&&t.pop())}function r(){return t}function a(){t=[]}return{get:o,put:s,getEntries:r,clear:a}}var Yn=(e,n)=>e===n;function Kn(e){return function(t,o){if(t===null||o===null||t.length!==o.length)return!1;const{length:s}=t;for(let r=0;r<s;r++)if(!e(t[r],o[r]))return!1;return!0}}function Xn(e,n){const t=typeof n=="object"?n:{equalityCheck:n},{equalityCheck:o=Yn,maxSize:s=1,resultEqualityCheck:r}=t,a=Kn(o);let l=0;const i=s<=1?Hn(a):Gn(s,a);function u(){let c=i.get(arguments);if(c===Se){if(c=e.apply(null,arguments),l++,r){const d=i.getEntries().find(f=>r(f.value,c));d&&(c=d.value,l!==0&&l--)}i.put(arguments,c)}return c}return u.clearCache=()=>{i.clear(),u.resetResultsCount()},u.resultsCount=()=>l,u.resetResultsCount=()=>{l=0},u}var Jn=class{constructor(e){this.value=e}deref(){return this.value}},Qn=typeof WeakRef<"u"?WeakRef:Jn,Zn=0,dt=1;function be(){return{s:Zn,v:void 0,o:null,p:null}}function Mt(e,n={}){let t=be();const{resultEqualityCheck:o}=n;let s,r=0;function a(){var h;let l=t;const{length:i}=arguments;for(let d=0,f=i;d<f;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=l.o;m===null&&(l.o=m=new WeakMap);const y=m.get(p);y===void 0?(l=be(),m.set(p,l)):l=y}else{let m=l.p;m===null&&(l.p=m=new Map);const y=m.get(p);y===void 0?(l=be(),m.set(p,l)):l=y}}const u=l;let c;if(l.s===dt)c=l.v;else if(c=e.apply(null,arguments),r++,o){const d=((h=s==null?void 0:s.deref)==null?void 0:h.call(s))??s;d!=null&&o(d,c)&&(c=d,r!==0&&r--),s=typeof c=="object"&&c!==null||typeof c=="function"?new Qn(c):c}return u.s=dt,u.v=c,c}return a.clearCache=()=>{t=be(),a.resetResultsCount()},a.resultsCount=()=>r,a.resetResultsCount=()=>{r=0},a}function Ot(e,...n){const t=typeof e=="function"?{memoize:e,memoizeOptions:n}:e,o=(...s)=>{let r=0,a=0,l,i={},u=s.pop();typeof u=="object"&&(i=u,u=s.pop()),_n(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...t,...i},{memoize:h,memoizeOptions:d=[],argsMemoize:f=Mt,argsMemoizeOptions:p=[]}=c,m=ct(d),y=ct(p),T=zn(s),x=h(function(){return r++,u.apply(null,arguments)},...m),b=f(function(){a++;const D=Un(T,arguments);return l=x.apply(null,D),l},...y);return Object.assign(b,{resultFunc:u,memoizedResultFunc:x,dependencies:T,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:h,argsMemoize:f})};return Object.assign(o,{withTypes:()=>o}),o}var eo=Ot(Mt),to=Object.assign((e,n=eo)=>{Bn(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const t=Object.keys(e),o=t.map(r=>e[r]);return n(o,(...r)=>r.reduce((a,l,i)=>(a[t[i]]=l,a),{}))},{withTypes:()=>to});Ot({memoize:Xn,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const N=(e,n,t,o,s,r,...a)=>{if(a.length>0)throw new Error(Ee(1));let l;if(e)l=e;else throw new Error("Missing arguments");return l};var Oe={exports:{}},Fe={},Pe={exports:{}},Ne={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft;function no(){if(ft)return Ne;ft=1;var e=ht();function n(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var t=typeof Object.is=="function"?Object.is:n,o=e.useState,s=e.useEffect,r=e.useLayoutEffect,a=e.useDebugValue;function l(h,d){var f=d(),p=o({inst:{value:f,getSnapshot:d}}),m=p[0].inst,y=p[1];return r(function(){m.value=f,m.getSnapshot=d,i(m)&&y({inst:m})},[h,f,d]),s(function(){return i(m)&&y({inst:m}),h(function(){i(m)&&y({inst:m})})},[h]),a(f),f}function i(h){var d=h.getSnapshot;h=h.value;try{var f=d();return!t(h,f)}catch{return!0}}function u(h,d){return d()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return Ne.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:c,Ne}var pt;function oo(){return pt||(pt=1,Pe.exports=no()),Pe.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt;function ro(){if(mt)return Fe;mt=1;var e=ht(),n=oo();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var o=typeof Object.is=="function"?Object.is:t,s=n.useSyncExternalStore,r=e.useRef,a=e.useEffect,l=e.useMemo,i=e.useDebugValue;return Fe.useSyncExternalStoreWithSelector=function(u,c,h,d,f){var p=r(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=l(function(){function T(O){if(!x){if(x=!0,b=O,O=d(O),f!==void 0&&m.hasValue){var P=m.value;if(f(P,O))return v=P}return v=O}if(P=v,o(b,O))return P;var U=d(O);return f!==void 0&&f(P,U)?(b=O,P):(b=O,v=U)}var x=!1,b,v,D=h===void 0?null:h;return[function(){return T(c())},D===null?void 0:function(){return T(D())}]},[c,h,d,f]);var y=s(u,p[0],p[1]);return a(function(){m.hasValue=!0,m.value=y},[y]),i(y),y},Fe}var gt;function so(){return gt||(gt=1,Oe.exports=ro()),Oe.exports}var io=so();function ao(e,n,t,o,s){const r=a=>n(a,t,o,s);return io.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,r)}class lo{constructor(n){$(this,"subscribe",n=>(this.listeners.add(n),()=>{this.listeners.delete(n)}));$(this,"getSnapshot",()=>this.state);this.state=n,this.listeners=new Set,this.updateTick=0}setState(n){if(this.state===n)return;this.state=n,this.updateTick+=1;const t=this.updateTick;for(const o of this.listeners){if(t!==this.updateTick)return;o(n)}}update(n){for(const t in n)if(!Object.is(this.state[t],n[t])){this.setState({...this.state,...n});return}}set(n,t){Object.is(this.state[n],t)||this.setState({...this.state,[n]:t})}}class uo extends lo{constructor(t,o={},s){super(t);$(this,"controlledValues",new Map);this.context=o,this.selectors=s}useSyncedValue(t,o){_(()=>{this.state[t]!==o&&this.set(t,o)},[t,o])}useSyncedValueWithCleanup(t,o){_(()=>(this.state[t]!==o&&this.set(t,o),()=>{this.set(t,void 0)}),[t,o])}useSyncedValues(t){_(()=>{this.update(t)},[t])}useControlledProp(t,o,s){const r=o!==void 0;this.controlledValues.has(t)||(this.controlledValues.set(t,r),!r&&!Object.is(this.state[t],s)&&super.setState({...this.state,[t]:s})),_(()=>{r&&!Object.is(this.state[t],o)&&super.setState({...this.state,[t]:o})},[t,o,s,r])}set(t,o){this.controlledValues.get(t)!==!0&&super.set(t,o)}update(t){const o={...t};for(const s in o)this.controlledValues.get(s)===!0&&delete o[s];super.update(o)}setState(t){const o={...t};for(const s in o)this.controlledValues.get(s)===!0&&delete o[s];super.setState({...this.state,...o})}useState(t){if(!this.selectors)throw new Error(Ee(76));return ao(this,this.selectors[t])}useContextCallback(t,o){const s=Z(o??bt);this.context[t]=s}getElementSetter(t){return g.useCallback(o=>{this.set(t,o)},[t])}}const co={open:N(e=>e.open),modal:N(e=>e.modal),nested:N(e=>e.nested),nestedOpenDialogCount:N(e=>e.nestedOpenDialogCount),dismissible:N(e=>e.dismissible),openMethod:N(e=>e.openMethod),descriptionElementId:N(e=>e.descriptionElementId),titleElementId:N(e=>e.titleElementId),mounted:N(e=>e.mounted),transitionStatus:N(e=>e.transitionStatus),popupProps:N(e=>e.popupProps),floatingRootContext:N(e=>e.floatingRootContext),activeTriggerId:N(e=>e.activeTriggerId),activeTriggerElement:N(e=>e.mounted&&e.activeTriggerId!=null?e.triggers.get(e.activeTriggerId)??null:null),triggers:N(e=>e.triggers),popupElement:N(e=>e.popupElement),payload:N(e=>e.payload),activeTriggerProps:N(e=>e.activeTriggerProps),inactiveTriggerProps:N(e=>e.inactiveTriggerProps)};class fo extends uo{constructor(){super(po(),{popupRef:g.createRef(),backdropRef:g.createRef(),internalBackdropRef:g.createRef(),preventUnmountingOnCloseRef:{current:!1}},co);$(this,"setOpen",(t,o)=>{var a,l,i,u;if(o.preventUnmountOnClose=()=>{this.context.preventUnmountingOnCloseRef.current=!0},!t&&o.trigger==null&&this.state.activeTriggerId!=null&&(o.trigger=this.state.triggers.get(this.state.activeTriggerId)),(l=(a=this.context).onOpenChange)==null||l.call(a,t,o),o.isCanceled)return;const s={open:t,nativeEvent:o.event,reason:o.reason,nested:this.state.nested};(i=this.state.floatingRootContext.events)==null||i.emit("openchange",s),this.set("open",t);const r=((u=o.trigger)==null?void 0:u.id)??null;(r||t)&&this.set("activeTriggerId",r)})}}function po(){return{open:!1,dismissible:!0,nested:!1,popupElement:null,activeTriggerId:null,modal:!0,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,mounted:!1,transitionStatus:"idle",nestedOpenDialogCount:0,triggers:new Map,floatingRootContext:en(),payload:void 0,activeTriggerProps:ye,inactiveTriggerProps:ye,popupProps:ye}}function mo(e){const{children:n,open:t,defaultOpen:o=!1,onOpenChange:s,onOpenChangeComplete:r,dismissible:a=!0,modal:l=!0,actionsRef:i,handle:u,triggerId:c,defaultTriggerId:h=null}=e,d=re(!0),f=!!d,p=qt(()=>(u==null?void 0:u.store)??new fo).current;p.useControlledProp("open",t,o),p.useControlledProp("activeTriggerId",c,h),p.useSyncedValues({dismissible:a,nested:f,modal:l}),p.useContextCallback("onOpenChange",s),p.useContextCallback("onOpenChangeComplete",r);const m=p.useState("payload");Wn({store:p,actionsRef:i,parentContext:d==null?void 0:d.store.context,triggerIdProp:c});const y=g.useMemo(()=>({store:p}),[p]);return F.jsx(Tt.Provider,{value:y,children:typeof n=="function"?n({payload:m}):n})}const go=g.forwardRef(function(n,t){const{render:o,className:s,id:r,...a}=n,{store:l}=re(),i=wt(r);return l.useSyncedValueWithCleanup("titleElementId",i),ce("h2",n,{ref:t,props:[{id:i},a]})}),Re=g.forwardRef(({title:e,onBackdropClick:n,subTitle:t,dismissible:o=!1,open:s=!1,onOpenChange:r,className:a,style:l,children:i,alertDialog:u,closeIconAriaLabel:c},h)=>F.jsx(mo,{open:s,onOpenChange:r,children:F.jsxs(Fn,{children:[F.jsx(fn,{className:"flx-modal-overlay-container",children:F.jsx("div",{onClick:()=>{n==null||n()},className:"flx-modal-overlay-backdrop"})}),F.jsxs(On,{ref:h,className:jt([a,"flx-modal"]),style:l,children:[o&&F.jsx(mn,{render:F.jsx(Lt,{name:"cross",className:"flx-modal-close",onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(r==null||r(!1))},"aria-label":c})}),e||t?F.jsxs("div",{className:"flx-modal-header",children:[e?F.jsx(go,{className:"flx-modal-title",children:e}):null,t?F.jsx(gn,{className:"flx-modal-subtitle",children:t}):null]}):null,F.jsx("div",{className:"flx-modal-content",children:i})]}),u]})}));Re.displayName="FlxModal";const Ve=g.memo(Re);Ve.displayName="MemoFlxModal";try{Re.displayName="FlxModal",Re.__docgenInfo={description:"",displayName:"FlxModal",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},dismissible:{defaultValue:{value:"false"},description:"Determines whether the dialog should close on outside clicks.",name:"dismissible",required:!1,type:{name:"boolean | undefined"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void) | undefined"}},onBackdropClick:{defaultValue:null,description:"",name:"onBackdropClick",required:!1,type:{name:"(() => void) | undefined"}},alertDialog:{defaultValue:null,description:"",name:"alertDialog",required:!1,type:{name:"ReactNode"}},closeIconAriaLabel:{defaultValue:null,description:"",name:"closeIconAriaLabel",required:!1,type:{name:"string | undefined"}},className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | ((state: DialogPopupState) => string | undefined) | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, DialogPopupState> | undefined"}}}}}catch{}try{Ve.displayName="MemoFlxModal",Ve.__docgenInfo={description:"",displayName:"MemoFlxModal",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | ((state: DialogPopupState) => string | undefined) | undefined"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void) | undefined"}},dismissible:{defaultValue:{value:"false"},description:"Determines whether the dialog should close on outside clicks.",name:"dismissible",required:!1,type:{name:"boolean | undefined"}},onBackdropClick:{defaultValue:null,description:"",name:"onBackdropClick",required:!1,type:{name:"(() => void) | undefined"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},alertDialog:{defaultValue:null,description:"",name:"alertDialog",required:!1,type:{name:"ReactNode"}},closeIconAriaLabel:{defaultValue:null,description:"",name:"closeIconAriaLabel",required:!1,type:{name:"string | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, DialogPopupState> | undefined"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined"}}}}}catch{}export{Re as F,Ve as M};
