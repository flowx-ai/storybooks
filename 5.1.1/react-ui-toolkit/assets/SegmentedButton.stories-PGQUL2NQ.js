import{j as t}from"./jsx-runtime-DztICxWZ.js";import{r as a}from"./index-Bv9Y92EF.js";import{u as C,C as M,F as V,a as w,b as E,c as I,d as R,e as T,f as k}from"./InfoTooltip-BGqrRuDD.js";import{c as j}from"./clsx-B-dksMZM.js";import{a as H,R as L}from"./RadioGroup-CB66WpF-.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./Icon-Da6wEY94.js";import"./useRenderElement-CQQ5I8lv.js";import"./index-DZfHsFkt.js";import"./index-CJSLNY_5.js";import"./useInteractions-DwvY_w4P.js";import"./useOpenChangeComplete-DtBfQTi2.js";import"./floating-ui.utils.dom-cLmtQo3s.js";import"./owner-BLNona6N.js";import"./createBaseUIEventDetails-2goIIMRX.js";import"./event-BieJfEq0.js";import"./DirectionContext-BpJw-_6G.js";import"./useControlled-bC22fXfP.js";import"./useTransitionStatus-D3wENK3H.js";import"./useField-CjkaMQbR.js";import"./useBaseUiId-BJFIvnQ9.js";import"./CompositeRoot-T9Fbzyy1.js";import"./useButton-BpCaeLYm.js";import"./CompositeList-oGVV_oZ2.js";import"./composite-DpKW5ESM.js";import"./FieldItemContext-FDB5z_De.js";import"./useLabelableId-BsVdah0E.js";const O=a.createContext({}),D=()=>{const e=a.useContext(O);if(!e)throw new Error("FlxSegmentedOption must be used within a FlxSegmentedButton");return e},p=a.forwardRef(({value:e,className:n,disabled:r,...i},m)=>{const o=D(),u=a.useId(),d=a.useMemo(()=>{var l;return e.value?(l=o.value)!=null&&l.value?o.value.value===e.value:o.value===e.value:o.value===e},[o.value,e]);return t.jsx(L,{id:u,disabled:o.disabled||r,ref:m,value:e,...i,className:j(["flx-segmented-option",{selected:d},{disabled:o.disabled||r},n]),children:e.label??e})});p.displayName="FlxSegmentedOption";const x=a.memo(p);x.displayName="MemoFlxSegmentedOption";const s=a.forwardRef(({children:e,disabled:n=!1,onValueChange:r,value:i,className:m,onBlur:o,...u},d)=>t.jsx(O.Provider,{value:{disabled:n,value:i,onValueChange:r},children:t.jsx(H,{value:i,onValueChange:l=>{r==null||r(l)},ref:d,className:j(["flx-segmented-button",m]),...u,onBlur:l=>{l.relatedTarget||o==null||o(l)},children:e})}));s.displayName="FlxSegmentedButton";const g=({children:e})=>t.jsx("div",{className:"flx-segmented-options",children:e}),F=a.memo(s);F.displayName="MemoFlxSegmentedButton";try{p.displayName="FlxSegmentedOption",p.__docgenInfo={description:"",displayName:"FlxSegmentedOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ label: string; value: unknown; }"}}}}}catch{}try{x.displayName="MemoFlxSegmentedOption",x.__docgenInfo={description:"",displayName:"MemoFlxSegmentedOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ label: string; value: unknown; }"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null | undefined"}}}}}catch{}try{s.displayName="FlxSegmentedButton",s.__docgenInfo={description:"",displayName:"FlxSegmentedButton",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ label: string; value: unknown; }"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"((value: { label: string; value: unknown; }) => void) | undefined"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}}}}}catch{}try{g.displayName="FlxSegmentedOptionsContainer",g.__docgenInfo={description:"",displayName:"FlxSegmentedOptionsContainer",props:{}}}catch{}try{F.displayName="MemoFlxSegmentedButton",F.__docgenInfo={description:"",displayName:"MemoFlxSegmentedButton",props:{disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"{ label: string; value: unknown; }"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"((value: { label: string; value: unknown; }) => void) | undefined"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined"}}}}}catch{}const b=[{label:"Option 1",value:"option1"},{label:"Option 2",value:"option2"},{label:"Option 3",value:"option3"}],fe={component:s,title:"Segmented Button",decorators:[e=>{const n=T({mode:"onBlur",defaultValues:{segmented:""}});return t.jsx(k,{...n,children:t.jsx(e,{})})}],argTypes:{fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:function(n){const r=a.useId(),i=`${r}-form-item`,m=`${r}-form-item-description`,o="segmented",u=n.requiredError?{validate:{required:c=>(c.value||c)==="option1"||"Field required"}}:{},{setValue:d,watch:l,control:N}=C();return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontFamily:n.fontFamily},className:"flx-default-theme",children:t.jsx(M,{name:o,control:N,rules:u,render:({field:{onChange:c,value:B,onBlur:q},fieldState:y})=>t.jsxs(s,{onBlur:q,value:B,onValueChange:c,children:[t.jsxs(V,{children:[t.jsx(w,{htmlFor:i,disabled:n.disabled,children:n.label}),n.infoTooltip?t.jsx(E,{children:n.helper}):null]}),t.jsx(g,{children:b.map(_=>t.jsx(p,{value:_},_.value))}),!n.infoTooltip&&!y.error?t.jsx(I,{id:m,children:n.helper}):null,t.jsx(R,{error:y.error})]})})}),t.jsxs("p",{children:["Selected option: ",JSON.stringify(l("segmented"))]}),t.jsx("button",{type:"button",onClick:()=>d("segmented","option2"),children:"Set value to option 2 (value)"}),t.jsx("button",{type:"button",onClick:()=>d("segmented",b[2]),children:"Set value to option 3 (object)"})]})}},f={args:{disabled:!1,label:"Segmented Button Label",helper:"Helper text",infoTooltip:!1,requiredError:!1}};var v,S,h;f.parameters={...f.parameters,docs:{...(v=f.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Segmented Button Label',
    helper: 'Helper text',
    infoTooltip: false,
    requiredError: false
  }
}`,...(h=(S=f.parameters)==null?void 0:S.docs)==null?void 0:h.source}}};const xe=["SegmentedButton"];export{f as SegmentedButton,xe as __namedExportsOrder,fe as default};
