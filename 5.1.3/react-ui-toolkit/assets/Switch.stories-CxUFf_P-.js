import{j as n}from"./jsx-runtime-DztICxWZ.js";import{r as a}from"./index-Bv9Y92EF.js";import{u as ce,F as ue,a as me,b as fe,C as pe,c as he,d as ye,e as xe,f as be}from"./InfoTooltip-BQKEAPAl.js";import{c as R}from"./clsx-B-dksMZM.js";import{F as ge}from"./Icon-Da6wEY94.js";import{u as Ce}from"./useControlled-bC22fXfP.js";import{b as Fe,u as we}from"./floating-ui.utils.dom-BFiwr5bk.js";import{f as Se,c as ve,m as ke,u as z}from"./useRenderElement-IQYmzFOi.js";import{v as Pe}from"./ReactStore-BIANnnUv.js";import{u as _e,c as je,n as Ee}from"./createBaseUIEventDetails-C1JAek35.js";import{f as qe,b as Re,a as G,u as Ve,c as Ne,d as Ie}from"./useValueChanged-CWY3wgwM.js";import{u as Te}from"./useLabelableId-DMz6PhEV.js";import{a as Me}from"./useButton-BU0a48-b.js";const K=a.createContext(void 0);function Le(){const e=a.useContext(K);if(e===void 0)throw new Error(Se(63));return e}let J=(function(e){return e.checked="data-checked",e.unchecked="data-unchecked",e.disabled="data-disabled",e.readonly="data-readonly",e.required="data-required",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e})({});const Q={...qe,checked(e){return e?{[J.checked]:""}:{[J.unchecked]:""}}},He=a.forwardRef(function(t,l){const{checked:d,className:m,defaultChecked:s,id:c,inputRef:o,name:x,nativeButton:g=!1,onCheckedChange:f,readOnly:u=!1,required:C=!1,disabled:S=!1,render:E,...b}=t,{clearErrors:W}=Re(),{state:V,setTouched:Y,setDirty:Z,validityData:D,setFilled:q,setFocused:N,shouldValidateOnChange:A,validationMode:ee,disabled:te,name:ne,validation:p}=G(),{labelId:ae,registerLabelableControlRef:oe}=Ve(),h=te||S,F=ne??x,P=Fe(f),y=a.useRef(null),I=ve(y,o,p.inputRef),_=a.useRef(null),T=_e(),M=Te({id:c,implicit:!1,controlRef:_}),[r,L]=Ce({controlled:d,default:!!s,name:"Switch",state:"checked"});Ne({id:T,commit:p.commit,value:r,controlRef:_,name:F,getValue:()=>r}),we(()=>{y.current&&q(y.current.checked)},[y,q]),Ie(r,()=>{W(F),Z(r!==D.initialValue),q(r),A()?p.commit(r):p.commit(r,!0)});const{getButtonProps:re,buttonRef:le}=Me({disabled:h,native:g}),se={id:T,role:"switch","aria-checked":r,"aria-readonly":u||void 0,"aria-labelledby":ae,onFocus(){h||N(!0)},onBlur(){const i=y.current;!i||h||(Y(!0),N(!1),ee==="onBlur"&&p.commit(i.checked))},onClick(i){var v;u||h||(i.preventDefault(),(v=y==null?void 0:y.current)==null||v.click())}},ie=a.useMemo(()=>ke({checked:r,disabled:h,id:M,name:F,required:C,style:Pe,tabIndex:-1,type:"checkbox","aria-hidden":!0,ref:I,onChange(i){if(i.nativeEvent.defaultPrevented)return;const v=i.target.checked,B=je(Ee,i.nativeEvent);P==null||P(v,B),!B.isCanceled&&L(v)},onFocus(){var i;(i=_.current)==null||i.focus()}},p.getInputValidationProps),[r,h,I,M,F,P,C,L,p]),H=a.useMemo(()=>({...V,checked:r,disabled:h,readOnly:u,required:C}),[V,r,h,u,C]),de=z("span",t,{state:H,ref:[l,oe,_,le],props:[se,p.getValidationProps,b,re],stateAttributesMapping:Q});return n.jsxs(K.Provider,{value:H,children:[de,!r&&F&&n.jsx("input",{type:"hidden",name:F,value:"off"}),n.jsx("input",{...ie})]})}),Be=a.forwardRef(function(t,l){const{render:d,className:m,...s}=t,{state:c}=G(),o=Le(),x={...c,...o};return z("span",t,{state:x,ref:l,stateAttributesMapping:Q,props:s})}),Je="start",w=({name:e,value:t,disabled:l=!1,onChange:d,onBlur:m,className:s,switchType:c="toggle",checkboxIcons:o,...x})=>{const[g,f]=a.useState(!1),u=a.useCallback(b=>f(b),[]),C=b=>{l||d==null||d(b)},S=a.useMemo(()=>c==="checkbox",[c]),E=a.useMemo(()=>t?o==null?void 0:o.selected:o==null?void 0:o.unselected,[t,o]);return n.jsx(He,{...x,className:R(["flx-switch-container",{disabled:l,checked:!!t,empty:!t,focused:g,toggle:!S,checkbox:S},s]),disabled:l,checked:t,name:e,onFocus:()=>u(!0),onBlur:b=>{u(!1),m==null||m(b)},onCheckedChange:C,children:S?E?n.jsx("div",{className:"flx-checkbox-icon",children:E}):n.jsx("div",{className:"flx-checkbox-icon",children:n.jsx(ge,{name:"check"})}):n.jsx(Be,{className:"flx-switch-knob"})})};w.displayName="FlxSwitch";const j=a.forwardRef(({children:e,dataUniqueid:t,dataTestId:l,labelPosition:d=Je,className:m,...s},c)=>n.jsx("div",{...s,className:R(["flx-switch",m]),ref:c,"data-uniqueid":t,"data-testid":l,children:n.jsx("label",{className:R({reversed:d==="end"}),children:e})}));j.displayName="FlxSwitchContainer";const O=a.memo(w);try{w.displayName="FlxSwitch",w.__docgenInfo={description:"",displayName:"FlxSwitch",props:{className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:`Style applied to the element, or a function that
returns a style object based on the component’s state.`,name:"style",required:!1,type:{name:"CSSProperties | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: boolean) => void) | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean | undefined"}},switchType:{defaultValue:{value:"toggle"},description:"",name:"switchType",required:!1,type:{name:'"checkbox" | "toggle" | undefined'}},checkboxIcons:{defaultValue:null,description:"",name:"checkboxIcons",required:!1,type:{name:"{ selected?: ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined; unselected?: ReactElement<FlxIconProps, string | JSXElementConstructor<...>> | null | undefined; } | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, SwitchRootState> | undefined"}}}}}catch{}try{j.displayName="FlxSwitchContainer",j.__docgenInfo={description:"",displayName:"FlxSwitchContainer",props:{dataUniqueid:{defaultValue:null,description:"",name:"dataUniqueid",required:!1,type:{name:"string | undefined"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},labelPosition:{defaultValue:{value:"start"},description:"",name:"labelPosition",required:!1,type:{name:"SwitchLabelPosition | undefined"}}}}}catch{}try{O.displayName="MemoFlxSwitch",O.__docgenInfo={description:"",displayName:"MemoFlxSwitch",props:{className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:`Style applied to the element, or a function that
returns a style object based on the component’s state.`,name:"style",required:!1,type:{name:"CSSProperties | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: boolean) => void) | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean | undefined"}},switchType:{defaultValue:{value:"toggle"},description:"",name:"switchType",required:!1,type:{name:'"checkbox" | "toggle" | undefined'}},checkboxIcons:{defaultValue:null,description:"",name:"checkboxIcons",required:!1,type:{name:"{ selected?: ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined; unselected?: ReactElement<FlxIconProps, string | JSXElementConstructor<...>> | null | undefined; } | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, SwitchRootState> | undefined"}}}}}catch{}const Oe={component:w,title:"Choices",decorators:[e=>{const t=xe({mode:"onBlur",defaultValues:{switch:!1}});return n.jsx(be,{...t,children:n.jsx(e,{})})}],argTypes:{labelPosition:{options:["start","end"],control:{type:"radio"}},fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:function(t){var g;const l=a.useId(),d=`${l}-form-item`,m=`${l}-form-item-description`,s="switch",c=t.requiredError?{required:"This field is required"}:{},{watch:o,control:x}=ce();return n.jsxs("div",{style:{fontFamily:t.fontFamily},className:"flx-default-theme",children:[n.jsxs(j,{labelPosition:t.labelPosition,children:[n.jsxs(ue,{children:[n.jsx(me,{htmlFor:d,disabled:t.disabled,children:t.label}),t.infoTooltip?n.jsx(fe,{children:t.helper}):null]}),n.jsx(pe,{control:x,name:s,rules:c,render:({field:f,fieldState:u})=>n.jsxs(n.Fragment,{children:[n.jsx(w,{name:s,disabled:t.disabled,style:{width:t.width?t.width:"auto"},onChange:f.onChange,onBlur:f.onBlur,value:f.value,checked:f.value}),!t.infoTooltip&&!u.error?n.jsx(he,{id:m,children:t.helper}):null,n.jsx(ye,{error:u.error})]})})]}),n.jsxs("p",{children:["Value: ",(g=o(s))==null?void 0:g.toString()]})]})},parameters:{design:{type:"figma",url:"https://www.figma.com/file/2n2umsSLJbNigLx43nseml/FlowX-Design-System?node-id=6737-14344"}}},k={args:{disabled:!1,label:"Switch label",helper:"Helper text",infoTooltip:!1,requiredError:!1,labelPosition:"start",width:200}};var X,U,$;k.parameters={...k.parameters,docs:{...(X=k.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Switch label',
    helper: 'Helper text',
    infoTooltip: false,
    requiredError: false,
    labelPosition: 'start',
    width: 200
  }
}`,...($=(U=k.parameters)==null?void 0:U.docs)==null?void 0:$.source}}};const Xe=["Switch"],nt=Object.freeze(Object.defineProperty({__proto__:null,Switch:k,__namedExportsOrder:Xe,default:Oe},Symbol.toStringTag,{value:"Module"}));export{nt as S,k as a};
