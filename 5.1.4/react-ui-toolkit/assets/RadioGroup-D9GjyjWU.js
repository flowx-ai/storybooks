import{r as o}from"./index-Bv9Y92EF.js";import{E as se,d as oe,u as ne,N as P,c as de,f as he,m as Ce}from"./useRenderElement-IQYmzFOi.js";import{u as ve,b as w}from"./floating-ui.utils.dom-BFiwr5bk.js";import{v as ie}from"./ReactStore-BIANnnUv.js";import{u as le,c as ge,n as be}from"./createBaseUIEventDetails-C1JAek35.js";import{t as ye}from"./useOpenChangeComplete-vwLYIK8G.js";import{f as ue,a as ce,u as fe,b as Pe,c as xe,d as Ve}from"./useValueChanged-CWY3wgwM.js";import{u as Re,A as ke,C as Ie}from"./CompositeRoot-VF2UQKiP.js";import{u as Ee}from"./FieldItemContext-FDB5z_De.js";import{u as Me}from"./useLabelableId-DMz6PhEV.js";import{j as x}from"./jsx-runtime-DztICxWZ.js";import{a as Fe}from"./useButton-BU0a48-b.js";import{u as Oe}from"./useControlled-bC22fXfP.js";import{S as Te}from"./composite-BcX4eBbW.js";import{e as qe}from"./owner-CUO6ebsU.js";let re=(function(t){return t.checked="data-checked",t.unchecked="data-unchecked",t.disabled="data-disabled",t.readonly="data-readonly",t.required="data-required",t.valid="data-valid",t.invalid="data-invalid",t.touched="data-touched",t.dirty="data-dirty",t.filled="data-filled",t.focused="data-focused",t})({});const ae={checked(t){return t?{[re.checked]:""}:{[re.unchecked]:""}},...ye,...ue};function Se(t){const{render:f,className:B,state:V=se,props:R=oe,refs:k=oe,metadata:n,stateAttributesMapping:d,tag:l="div",...I}=t,{compositeProps:E,compositeRef:M}=Re({metadata:n});return ne(l,t,{state:V,ref:[...k,M],props:[E,...R,I],stateAttributesMapping:d})}const pe=o.createContext({disabled:void 0,readOnly:void 0,required:void 0,name:void 0,checkedValue:"",setCheckedValue:P,onValueChange:P,touched:!1,setTouched:P,registerControlRef:P});function Ge(){return o.useContext(pe)}const je=o.createContext(void 0),et=o.forwardRef(function(f,B){const{render:V,className:R,disabled:k=!1,readOnly:n=!1,required:d=!1,value:l,inputRef:I,nativeButton:E=!1,id:M,...z}=f,{disabled:W,readOnly:N,required:K,checkedValue:F,setCheckedValue:O,touched:Q,setTouched:X,validation:T,registerControlRef:g}=Ge(),{setDirty:s,validityData:L,setTouched:_,setFilled:b,state:Y,disabled:Z}=ce(),q=Ee(),{labelId:p,getDescriptionProps:C,registerLabelableControlRef:H}=fe(),e=Z||q.disabled||W||k,i=N||n,u=K||d,c=F===l,m=o.useRef(null),v=o.useRef(null),S=de(I,v);ve(()=>{var a;(a=v.current)!=null&&a.checked&&b(!0)},[b]);const G=le(),D=Me({id:M,implicit:!1,controlRef:m}),$={role:"radio","aria-checked":c,"aria-required":u||void 0,"aria-disabled":e||void 0,"aria-readonly":i||void 0,"aria-labelledby":p,[ke]:c?"":void 0,id:G,disabled:e,onKeyDown(a){a.key==="Enter"&&a.preventDefault()},onClick(a){var h;a.defaultPrevented||e||i||(a.preventDefault(),(h=v.current)==null||h.click())},onFocus(a){var h;a.defaultPrevented||e||i||!Q||((h=v.current)==null||h.click(),X(!1))}},{getButtonProps:J,buttonRef:A}=Fe({disabled:e,native:E}),ee=o.useMemo(()=>({type:"radio",ref:S,id:D,tabIndex:-1,style:ie,"aria-hidden":!0,disabled:e,checked:c,required:u,readOnly:i,onChange(a){if(a.nativeEvent.defaultPrevented||e||i||l===void 0)return;const h=ge(be,a.nativeEvent);h.isCanceled||(_(!0),s(l!==L.initialValue),b(!0),O(l,h))},onFocus(){var a;(a=m.current)==null||a.focus()}}),[c,e,D,S,i,u,O,s,_,b,L.initialValue,l]),y=o.useMemo(()=>({...Y,required:u,disabled:e,readOnly:i,checked:c}),[Y,e,i,c,u]),te=o.useMemo(()=>y,[y]),U=O!==P,r=[B,g,H,m,A],j=[$,C,(T==null?void 0:T.getValidationProps)??se,z,J],me=ne("span",f,{enabled:!U,state:y,ref:r,props:j,stateAttributesMapping:ae});return x.jsxs(je.Provider,{value:te,children:[U?x.jsx(Se,{tag:"span",render:V,className:R,state:y,refs:r,props:j,stateAttributesMapping:ae}):me,x.jsx("input",{...ee})]})}),we=o.createContext({legendId:void 0,setLegendId:()=>{},disabled:void 0});function Be(t=!1){const f=o.useContext(we);if(!f&&!t)throw new Error(he(86));return f}const Ne=[Te],tt=o.forwardRef(function(f,B){const{render:V,className:R,disabled:k,readOnly:n,required:d,onValueChange:l,value:I,defaultValue:E,name:M,inputRef:z,id:W,...N}=f,{setTouched:K,setFocused:F,shouldValidateOnChange:O,validationMode:Q,name:X,disabled:T,state:g,validation:s,setDirty:L,setFilled:_,validityData:b}=ce(),{labelId:Y}=fe(),{clearErrors:Z}=Pe(),q=Be(!0),p=T||k,C=X??M,H=le(W),[e,i]=Oe({controlled:I,default:E,name:"RadioGroup",state:"value"}),u=w(l),c=w((r,j)=>{u(r,j),!j.isCanceled&&i(r)}),m=o.useRef(null),v=w(r=>{m.current==null&&r!=null&&(m.current=r)});xe({id:H,commit:s.commit,value:e,controlRef:m,name:C,getValue:()=>e??null}),Ve(e,()=>{Z(C),L(e!==b.initialValue),_(e!=null),O()?s.commit(e):s.commit(e,!0)});const[S,G]=o.useState(!1),D=w(r=>{qe(r.currentTarget,r.relatedTarget)||(K(!0),F(!1),Q==="onBlur"&&s.commit(e))}),$=w(r=>{r.key.startsWith("Arrow")&&(K(!0),G(!0),F(!0))}),J=o.useMemo(()=>e==null?"":typeof e=="string"?e:JSON.stringify(e),[e]),A=de(s.inputRef,z),ee=Ce({value:J,ref:A,id:H,name:J?C:void 0,disabled:p,readOnly:n,required:d,"aria-labelledby":N["aria-labelledby"]??(q==null?void 0:q.legendId),"aria-hidden":!0,tabIndex:-1,style:ie,onChange:P,onFocus(){var r;(r=m.current)==null||r.focus()}},s.getInputValidationProps),y=o.useMemo(()=>({...g,disabled:p??!1,required:d??!1,readOnly:n??!1}),[g,p,n,d]),te=o.useMemo(()=>({...g,checkedValue:e,disabled:p,validation:s,name:C,onValueChange:u,readOnly:n,registerControlRef:v,required:d,setCheckedValue:c,setTouched:G,touched:S}),[e,p,s,g,C,u,n,v,d,c,G,S]),U={role:"radiogroup","aria-required":d||void 0,"aria-disabled":p||void 0,"aria-readonly":n||void 0,"aria-labelledby":Y,onFocus(){F(!0)},onBlur:D,onKeyDownCapture:$};return x.jsxs(pe.Provider,{value:te,children:[x.jsx(Ie,{render:V,className:R,state:y,props:[U,s.getValidationProps,N],refs:[B],stateAttributesMapping:ue,enableHomeAndEndKeys:!1,modifierKeys:Ne}),x.jsx("input",{...ee})]})});export{et as R,tt as a};
