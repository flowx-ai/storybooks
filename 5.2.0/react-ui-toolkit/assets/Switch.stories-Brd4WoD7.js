import{j as n}from"./jsx-runtime-DztICxWZ.js";import{r as a}from"./index-Bv9Y92EF.js";import{u as ce,F as ue,a as me,b as fe,C as pe,c as he,d as ye,e as xe,f as be}from"./InfoTooltip-CKYhFJsH.js";import{c as N}from"./clsx-B-dksMZM.js";import{F as ge}from"./Icon-DavT6JvV.js";import{u as Fe}from"./useControlled-bC22fXfP.js";import{c as we,u as Ce}from"./floating-ui.utils.dom-cLmtQo3s.js";import{f as Se,c as ve,m as ke,u as W}from"./useRenderElement-CQQ5I8lv.js";import{v as Pe}from"./useInteractions-DwvY_w4P.js";import{f as _e,c as je,a as Y,u as Ee,b as qe,d as Ve}from"./useField-CjkaMQbR.js";import{u as Re}from"./useLabelableId-BsVdah0E.js";import{c as Ne}from"./createBaseUIEventDetails-2goIIMRX.js";import{a as Te}from"./useButton-BpCaeLYm.js";const Z=a.createContext(void 0);function Ie(){const e=a.useContext(Z);if(e===void 0)throw new Error(Se(63));return e}let U=(function(e){return e.checked="data-checked",e.unchecked="data-unchecked",e.disabled="data-disabled",e.readonly="data-readonly",e.required="data-required",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e})({});const D={..._e,checked(e){return e?{[U.checked]:""}:{[U.unchecked]:""}}},Me=a.forwardRef(function(t,r){const{checked:s,className:c,defaultChecked:l,id:i,inputRef:o,name:u,nativeButton:b=!0,onCheckedChange:p,readOnly:d=!1,required:g=!1,disabled:C=!1,render:q,...x}=t,{clearErrors:T}=je(),{state:I,setTouched:A,setDirty:M,validityData:L,setFilled:P,setFocused:H,validationMode:V,disabled:ee,name:te}=Y(),{labelId:ne}=Ee(),F=ee||C,S=te??u,{getValidationProps:ae,getInputValidationProps:B,inputRef:oe,commitValidation:v}=qe(),_=we(p),h=a.useRef(null),J=ve(h,o,oe),R=a.useRef(null),j=Re({id:i,implicit:!0,controlRef:R}),[y,X]=Fe({controlled:s,default:!!l,name:"Switch",state:"checked"});Ve({id:j,commitValidation:v,value:y,controlRef:R,name:S,getValue:()=>y}),Ce(()=>{h.current&&P(h.current.checked)},[h,P]);const{getButtonProps:re,buttonRef:le}=Te({disabled:F,native:b}),se={id:j,role:"switch",disabled:F,"aria-checked":y,"aria-readonly":d||void 0,"aria-labelledby":ne,onFocus(){H(!0)},onBlur(){const m=h.current;m&&(A(!0),H(!1),V==="onBlur"&&v(m.checked))},onClick(m){var f;m.defaultPrevented||d||(m.preventDefault(),(f=h==null?void 0:h.current)==null||f.click())}},ie=a.useMemo(()=>ke({checked:y,disabled:F,id:S?void 0:`${j}-input`,name:S,required:g,style:Pe,tabIndex:-1,type:"checkbox","aria-hidden":!0,ref:J,onChange(m){if(m.nativeEvent.defaultPrevented)return;const f=m.target.checked,$=Ne("none",m.nativeEvent);_==null||_(f,$),!$.isCanceled&&(T(S),M(f!==L.initialValue),P(f),X(f),V==="onChange"?v(f):v(f,!0))}},B),[y,T,v,F,B,J,j,S,_,g,X,M,P,V,L.initialValue]),O=a.useMemo(()=>({...I,checked:y,disabled:F,readOnly:d,required:g}),[I,y,F,d,g]),de=W("button",t,{state:O,ref:[r,R,le],props:[se,ae,x,re],stateAttributesMapping:D});return n.jsxs(Z.Provider,{value:O,children:[de,!y&&u&&n.jsx("input",{type:"hidden",name:u,value:"off"}),n.jsx("input",{...ie})]})}),Le=a.forwardRef(function(t,r){const{render:s,className:c,...l}=t,{state:i}=Y(),o=Ie(),u={...i,...o};return W("span",t,{state:u,ref:r,stateAttributesMapping:D,props:l})}),He="start",w=({name:e,value:t,disabled:r=!1,onChange:s,onBlur:c,className:l,switchType:i="toggle",checkboxIcons:o,...u})=>{const[b,p]=a.useState(!1),d=a.useCallback(x=>p(x),[]),g=x=>{r||s==null||s(x)},C=a.useMemo(()=>i==="checkbox",[i]),q=a.useMemo(()=>t?o==null?void 0:o.selected:o==null?void 0:o.unselected,[t,o]);return n.jsx(Me,{...u,className:N(["flx-switch-container",{disabled:r,checked:!!t,empty:!t,focused:b,toggle:!C,checkbox:C},l]),disabled:r,checked:t,value:"on",name:e,onFocus:()=>d(!0),onBlur:x=>{d(!1),c==null||c(x)},onCheckedChange:g,children:C?q?n.jsx("div",{className:"flx-checkbox-icon",children:q}):n.jsx("div",{className:"flx-checkbox-icon",children:n.jsx(ge,{name:"check"})}):n.jsx(Le,{className:"flx-switch-knob"})})};w.displayName="FlxSwitch";const E=a.forwardRef(({children:e,dataUniqueid:t,dataTestId:r,labelPosition:s=He,className:c,...l},i)=>n.jsx("div",{...l,className:N(["flx-switch",c]),ref:i,"data-uniqueid":t,"data-testid":r,children:n.jsx("label",{className:N({reversed:s==="end"}),children:e})}));E.displayName="FlxSwitchContainer";const z=a.memo(w);try{w.displayName="FlxSwitch",w.__docgenInfo={description:"",displayName:"FlxSwitch",props:{className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:`Style applied to the element, or a function that
returns a style object based on the component’s state.`,name:"style",required:!1,type:{name:"CSSProperties | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: boolean) => void) | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean | undefined"}},switchType:{defaultValue:{value:"toggle"},description:"",name:"switchType",required:!1,type:{name:'"checkbox" | "toggle" | undefined'}},checkboxIcons:{defaultValue:null,description:"",name:"checkboxIcons",required:!1,type:{name:"{ selected?: ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined; unselected?: ReactElement<FlxIconProps, string | JSXElementConstructor<...>> | null | undefined; } | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, SwitchRootState> | undefined"}}}}}catch{}try{E.displayName="FlxSwitchContainer",E.__docgenInfo={description:"",displayName:"FlxSwitchContainer",props:{dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},dataUniqueid:{defaultValue:null,description:"",name:"dataUniqueid",required:!1,type:{name:"string | undefined"}},labelPosition:{defaultValue:{value:"start"},description:"",name:"labelPosition",required:!1,type:{name:"SwitchLabelPosition | undefined"}}}}}catch{}try{z.displayName="MemoFlxSwitch",z.__docgenInfo={description:"",displayName:"MemoFlxSwitch",props:{className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:`Style applied to the element, or a function that
returns a style object based on the component’s state.`,name:"style",required:!1,type:{name:"CSSProperties | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: boolean) => void) | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean | undefined"}},switchType:{defaultValue:{value:"toggle"},description:"",name:"switchType",required:!1,type:{name:'"checkbox" | "toggle" | undefined'}},checkboxIcons:{defaultValue:null,description:"",name:"checkboxIcons",required:!1,type:{name:"{ selected?: ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined; unselected?: ReactElement<FlxIconProps, string | JSXElementConstructor<...>> | null | undefined; } | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, SwitchRootState> | undefined"}}}}}catch{}const Be={component:w,title:"Choices",decorators:[e=>{const t=xe({mode:"onBlur",defaultValues:{switch:!1}});return n.jsx(be,{...t,children:n.jsx(e,{})})}],argTypes:{labelPosition:{options:["start","end"],control:{type:"radio"}},fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:function(t){var b;const r=a.useId(),s=`${r}-form-item`,c=`${r}-form-item-description`,l="switch",i=t.requiredError?{required:"This field is required"}:{},{watch:o,control:u}=ce();return n.jsxs("div",{style:{fontFamily:t.fontFamily},className:"flx-default-theme",children:[n.jsxs(E,{labelPosition:t.labelPosition,children:[n.jsxs(ue,{children:[n.jsx(me,{htmlFor:s,disabled:t.disabled,children:t.label}),t.infoTooltip?n.jsx(fe,{children:t.helper}):null]}),n.jsx(pe,{control:u,name:l,rules:i,render:({field:p,fieldState:d})=>n.jsxs(n.Fragment,{children:[n.jsx(w,{name:l,disabled:t.disabled,style:{width:t.width?t.width:"auto"},onChange:p.onChange,onBlur:p.onBlur,value:p.value,checked:p.value}),!t.infoTooltip&&!d.error?n.jsx(he,{id:c,children:t.helper}):null,n.jsx(ye,{error:d.error})]})})]}),n.jsxs("p",{children:["Value: ",(b=o(l))==null?void 0:b.toString()]})]})},parameters:{design:{type:"figma",url:"https://www.figma.com/file/2n2umsSLJbNigLx43nseml/FlowX-Design-System?node-id=6737-14344"}}},k={args:{disabled:!1,label:"Switch label",helper:"Helper text",infoTooltip:!1,requiredError:!1,labelPosition:"start",width:200}};var G,K,Q;k.parameters={...k.parameters,docs:{...(G=k.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Switch label',
    helper: 'Helper text',
    infoTooltip: false,
    requiredError: false,
    labelPosition: 'start',
    width: 200
  }
}`,...(Q=(K=k.parameters)==null?void 0:K.docs)==null?void 0:Q.source}}};const Je=["Switch"],et=Object.freeze(Object.defineProperty({__proto__:null,Switch:k,__namedExportsOrder:Je,default:Be},Symbol.toStringTag,{value:"Module"}));export{et as S,k as a};
