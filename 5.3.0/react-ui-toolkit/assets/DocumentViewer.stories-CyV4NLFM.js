import{j as e}from"./jsx-runtime-DztICxWZ.js";import{c as Y}from"./clsx-B-dksMZM.js";import{r as n}from"./index-Bv9Y92EF.js";import{M as te,f as ie,g as de,h as oe,i as ue,j as se}from"./Accordion-DsL3q9I9.js";import{M as c}from"./Icon-VZws6Zev.js";import{M as fe}from"./Button-CsQ05Hxl.js";import{M as ce}from"./Modal-C6U-wgfy.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./Card-DghsFFM0.js";import"./floating-ui.utils.dom-BFiwr5bk.js";import"./useRenderElement-IQYmzFOi.js";import"./useControlled-bC22fXfP.js";import"./createBaseUIEventDetails-C1JAek35.js";import"./useOpenChangeComplete-vwLYIK8G.js";import"./index-DZfHsFkt.js";import"./index-CJSLNY_5.js";import"./useTransitionStatus-DQ3yU_0a.js";import"./useButton-BU0a48-b.js";import"./owner-CUO6ebsU.js";import"./ReactStore-BIANnnUv.js";import"./event-BYna9Hj-.js";import"./inertValue-B83C-BnE.js";import"./composite-BcX4eBbW.js";const K=({viewerId:l=`pdfjs-viewer-ID${Date.now()}`,viewerFolder:q="/assets/pdfjs/web/viewer.html",externalWindow:t=!1,target:d="_blank",showSpinner:w=!0,downloadFileName:a,openFile:m=!0,download:o=!0,startDownload:f,viewBookmark:O=!0,print:p=!0,startPrint:_,fullScreen:T=!0,find:J=!0,zoom:N,nameddest:P,pagemode:D,lastPage:b,rotatecw:M,rotateccw:S,cursor:k,scroll:y,spread:I,locale:A,useOnlyCssZoom:h=!1,errorOverride:j=!1,errorAppend:E=!0,errorMessage:F,diagnosticLogs:B=!0,externalWindowOptions:X,onBeforePrint:R,onAfterPrint:g,onDocumentLoad:i,onPageChange:H,pdfSrc:u,page:G})=>{const Z=n.useRef(null),L=n.useRef(),[C,re]=n.useState(null),z=n.useCallback(V=>{const{data:r}=V;if(r&&r.viewerId&&r.event&&r.viewerId===l){const x=r.event,$=r.param;x==="beforePrint"&&R?R():x==="afterPrint"&&g?g():x==="pagesLoaded"&&i?i($):x==="pageChange"&&H&&H($)}},[l,R,g,i,H]);n.useEffect(()=>(window.addEventListener("message",z,!1),()=>{window.removeEventListener("message",z,!1)}),[z]),n.useEffect(()=>(t||le(),()=>{C&&C.close()}),[u,t]),n.useEffect(()=>()=>{L.current&&L.current()},[]);const le=()=>{var $;if(!u)return;let V;if(u instanceof Blob){const s=URL.createObjectURL(u);V=encodeURIComponent(s),L.current=()=>URL.revokeObjectURL(s)}else if(u instanceof Uint8Array){const s=new Blob([u],{type:"application/pdf"}),Q=URL.createObjectURL(s);V=encodeURIComponent(Q),L.current=()=>URL.revokeObjectURL(Q)}else V=u;let r=q;r+=`?file=${V}`;const x=[`viewerId=${l}`,a&&`fileName=${a}`,`openFile=${m}`,`download=${o}`,f&&`startDownload=${f}`,`viewBookmark=${O}`,`print=${p}`,_&&`startPrint=${_}`,`fullScreen=${T}`,`find=${J}`,b&&`lastpage=${b}`,M&&`rotatecw=${M}`,S&&`rotateccw=${S}`,k&&`cursor=${k}`,y&&`scroll=${y}`,I&&`spread=${I}`,A&&`locale=${A}`,`useOnlyCssZoom=${h}`,F&&`errorMessage=${F}`,j&&`errorOverride=${j}`,E&&`errorAppend=${E}`,G&&`page=${G}`,N&&`zoom=${N}`,P&&`nameddest=${P}`,D&&`pagemode=${D}`];if(r+="&"+x.filter(Boolean).join("&"),t){if(!C||C.closed){const s=window.open("",d,X||"");if(s==null){B&&console.error('For "externalWindow = true", pop-ups should be enabled.');return}re(s),w&&s.document.write(`
            <style>
              .loader {
                position: fixed;
                left: 40%;
                top: 40%;
                border: 16px solid #f3f3f3;
                border-radius: 50%;
                border-top: 16px solid #3498db;
                width: 120px;
                height: 120px;
                animation: spin 2s linear infinite;
              }
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
            </style>
            <div class="loader"></div>
          `)}C.location.href=r}else Z.current&&(($=Z.current.contentWindow)==null||$.location.replace(r))};return e.jsx("iframe",{title:"pdfjs-viewer",hidden:t||!t&&!u,ref:Z,width:"100%",height:"100%"})};try{K.displayName="PdfJsViewer",K.__docgenInfo={description:"",displayName:"PdfJsViewer",props:{viewerId:{defaultValue:{value:"`pdfjs-viewer-ID${Date.now()}`"},description:"",name:"viewerId",required:!1,type:{name:"string | undefined"}},viewerFolder:{defaultValue:{value:"/assets/pdfjs/web/viewer.html"},description:"",name:"viewerFolder",required:!1,type:{name:"string | undefined"}},externalWindow:{defaultValue:{value:"false"},description:"",name:"externalWindow",required:!1,type:{name:"boolean | undefined"}},target:{defaultValue:{value:"_blank"},description:"",name:"target",required:!1,type:{name:"string | undefined"}},showSpinner:{defaultValue:{value:"true"},description:"",name:"showSpinner",required:!1,type:{name:"boolean | undefined"}},downloadFileName:{defaultValue:null,description:"",name:"downloadFileName",required:!1,type:{name:"string | undefined"}},openFile:{defaultValue:{value:"true"},description:"",name:"openFile",required:!1,type:{name:"boolean | undefined"}},download:{defaultValue:{value:"true"},description:"",name:"download",required:!1,type:{name:"boolean | undefined"}},startDownload:{defaultValue:null,description:"",name:"startDownload",required:!1,type:{name:"boolean | undefined"}},viewBookmark:{defaultValue:{value:"true"},description:"",name:"viewBookmark",required:!1,type:{name:"boolean | undefined"}},print:{defaultValue:{value:"true"},description:"",name:"print",required:!1,type:{name:"boolean | undefined"}},startPrint:{defaultValue:null,description:"",name:"startPrint",required:!1,type:{name:"boolean | undefined"}},fullScreen:{defaultValue:{value:"true"},description:"",name:"fullScreen",required:!1,type:{name:"boolean | undefined"}},find:{defaultValue:{value:"true"},description:"",name:"find",required:!1,type:{name:"boolean | undefined"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!1,type:{name:"string | undefined"}},nameddest:{defaultValue:null,description:"",name:"nameddest",required:!1,type:{name:"string | undefined"}},pagemode:{defaultValue:null,description:"",name:"pagemode",required:!1,type:{name:"string | undefined"}},lastPage:{defaultValue:null,description:"",name:"lastPage",required:!1,type:{name:"boolean | undefined"}},rotatecw:{defaultValue:null,description:"",name:"rotatecw",required:!1,type:{name:"boolean | undefined"}},rotateccw:{defaultValue:null,description:"",name:"rotateccw",required:!1,type:{name:"boolean | undefined"}},cursor:{defaultValue:null,description:"",name:"cursor",required:!1,type:{name:"string | undefined"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"string | undefined"}},spread:{defaultValue:null,description:"",name:"spread",required:!1,type:{name:"string | undefined"}},locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"string | undefined"}},useOnlyCssZoom:{defaultValue:{value:"false"},description:"",name:"useOnlyCssZoom",required:!1,type:{name:"boolean | undefined"}},errorOverride:{defaultValue:{value:"false"},description:"",name:"errorOverride",required:!1,type:{name:"boolean | undefined"}},errorAppend:{defaultValue:{value:"true"},description:"",name:"errorAppend",required:!1,type:{name:"boolean | undefined"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | undefined"}},diagnosticLogs:{defaultValue:{value:"true"},description:"",name:"diagnosticLogs",required:!1,type:{name:"boolean | undefined"}},externalWindowOptions:{defaultValue:null,description:"",name:"externalWindowOptions",required:!1,type:{name:"string | undefined"}},onBeforePrint:{defaultValue:null,description:"",name:"onBeforePrint",required:!1,type:{name:"(() => void) | undefined"}},onAfterPrint:{defaultValue:null,description:"",name:"onAfterPrint",required:!1,type:{name:"(() => void) | undefined"}},onDocumentLoad:{defaultValue:null,description:"",name:"onDocumentLoad",required:!1,type:{name:"((param: any) => void) | undefined"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!1,type:{name:"((param: any) => void) | undefined"}},pdfSrc:{defaultValue:null,description:"",name:"pdfSrc",required:!1,type:{name:"string | Blob | Uint8Array<ArrayBufferLike> | null | undefined"}},page:{defaultValue:null,description:"",name:"page",required:!1,type:{name:"number | undefined"}}}}}catch{}const v=n.forwardRef(({title:l,subTitle:q,file:t,hasAccordion:d=!0,isExpanded:w=!0,previewInModal:a=!1,className:m,style:o,loading:f,error:O,retry:p,dataUniqueId:_,dataTestId:T,documentIcon:J,emptyIcon:N,errorIcon:P,reloadIcon:D,viewIcon:b,language:M,closeIconAriaLabel:S},k)=>{const[y,I]=n.useState(w),[A,h]=n.useState(!1),j=n.useRef(null),E=()=>{h(!0)},F=n.useCallback(i=>{i.key==="Enter"&&E()},[]),B=n.useCallback(()=>{var i;p==null||p(),(i=j.current)==null||i.focus()},[p]),X=n.useMemo(()=>{if(a)return()=>e.jsx("div",{tabIndex:0,role:"button",onClick:E,onKeyDown:F,className:"flx-document-preview-view",children:b||e.jsx(c,{name:"eye",className:"flx-document-action-icon",role:"presentation"})});if(!d)return()=>e.jsx(c,{role:"presentation"})},[F,d,a,b]),R=()=>{!d||a||I(!y)},g=()=>f?e.jsx("div",{className:"flx-viewer-container flx-not-loaded",style:o,children:e.jsx(c,{name:"documentPreviewLoading",className:"flx-document-loading",role:"presentation"})}):O?e.jsxs("div",{className:"flx-viewer-container flx-document-error",style:o,children:[P||e.jsx(c,{name:"documentPreviewError",role:"presentation"}),e.jsx(fe,{className:"flx-document-preview-retry",variant:"text",onClick:B,icon:"left",iconComponent:D||e.jsx(c,{name:"retry",role:"presentation"}),children:"Retry loading"})]}):t?e.jsx(K,{pdfSrc:t,locale:M}):e.jsx("div",{className:"flx-viewer-container flx-document-empty",style:o,children:N||e.jsx(c,{name:"documentPreviewEmpty",role:"presentation"})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Y([m,"flx-document-preview",{"flx-viewer-closed":a||!y}]),ref:k,"data-uniqueid":_,"data-testid":T,children:e.jsx(te,{className:"document-viewer-accordion",children:e.jsxs(ie,{open:!a&&y,onOpenChange:I,alwaysOpened:!d&&a,disabled:a||!d,children:[e.jsxs(de,{children:[e.jsx(oe,{ref:j,caretIcon:X,onClick:R,children:e.jsxs("div",{className:"flx-document-preview-title",children:[e.jsx("div",{className:"flx-document-preview-icon",children:J||e.jsx(c,{name:"documents",role:"presentation"})}),l]})}),e.jsx(ue,{alwaysDisplay:a,children:q})]}),e.jsx(se,{children:e.jsx("div",{className:"flx-viewer-container",style:o,children:g()})})]})})}),a&&e.jsx(ce,{dismissible:!0,className:Y("flx-document-viewer-modal",m),open:A,onOpenChange:i=>h(i),onBackdropClick:()=>h(!1),closeIconAriaLabel:S,children:g()})]})});v.displayName="FlxDocumentViewer";const W=n.memo(v);W.displayName="MemoFlxDocumentViewer";try{v.displayName="FlxDocumentViewer",v.__docgenInfo={description:"",displayName:"FlxDocumentViewer",props:{dataUniqueId:{defaultValue:null,description:"",name:"dataUniqueId",required:!1,type:{name:"string | undefined"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},hasAccordion:{defaultValue:{value:"true"},description:"",name:"hasAccordion",required:!1,type:{name:"boolean | undefined"}},previewInModal:{defaultValue:{value:"false"},description:"",name:"previewInModal",required:!1,type:{name:"boolean | undefined"}},isExpanded:{defaultValue:{value:"true"},description:"",name:"isExpanded",required:!1,type:{name:"boolean | undefined"}},file:{defaultValue:null,description:"",name:"file",required:!1,type:{name:"string | Blob | Uint8Array<ArrayBufferLike> | null | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean | undefined"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean | undefined"}},retry:{defaultValue:null,description:"",name:"retry",required:!1,type:{name:"(() => void) | undefined"}},documentIcon:{defaultValue:null,description:"",name:"documentIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},emptyIcon:{defaultValue:null,description:"",name:"emptyIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},errorIcon:{defaultValue:null,description:"",name:"errorIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},reloadIcon:{defaultValue:null,description:"",name:"reloadIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},viewIcon:{defaultValue:null,description:"",name:"viewIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},shareIcon:{defaultValue:null,description:"",name:"shareIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"string | undefined"}},closeIconAriaLabel:{defaultValue:null,description:"",name:"closeIconAriaLabel",required:!1,type:{name:"string | undefined"}}}}}catch{}try{W.displayName="MemoFlxDocumentViewer",W.__docgenInfo={description:"",displayName:"MemoFlxDocumentViewer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean | undefined"}},file:{defaultValue:null,description:"",name:"file",required:!1,type:{name:"string | Blob | Uint8Array<ArrayBufferLike> | null | undefined"}},retry:{defaultValue:null,description:"",name:"retry",required:!1,type:{name:"(() => void) | undefined"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean | undefined"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},hasAccordion:{defaultValue:{value:"true"},description:"",name:"hasAccordion",required:!1,type:{name:"boolean | undefined"}},isExpanded:{defaultValue:{value:"true"},description:"",name:"isExpanded",required:!1,type:{name:"boolean | undefined"}},previewInModal:{defaultValue:{value:"false"},description:"",name:"previewInModal",required:!1,type:{name:"boolean | undefined"}},dataUniqueId:{defaultValue:null,description:"",name:"dataUniqueId",required:!1,type:{name:"string | undefined"}},documentIcon:{defaultValue:null,description:"",name:"documentIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},emptyIcon:{defaultValue:null,description:"",name:"emptyIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},errorIcon:{defaultValue:null,description:"",name:"errorIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},reloadIcon:{defaultValue:null,description:"",name:"reloadIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},viewIcon:{defaultValue:null,description:"",name:"viewIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"string | undefined"}},closeIconAriaLabel:{defaultValue:null,description:"",name:"closeIconAriaLabel",required:!1,type:{name:"string | undefined"}},shareIcon:{defaultValue:null,description:"",name:"shareIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined"}}}}}catch{}const ke={title:"DocumentViewer",component:v,argTypes:{},render:({title:l,subTitle:q,file:t,loading:d,error:w,hasAccordion:a,previewInModal:m,width:o,height:f})=>e.jsx("div",{className:"flx-default-theme",children:e.jsx(v,{title:l,subTitle:q,file:t,loading:d,error:w,hasAccordion:a,previewInModal:m,style:{width:o>0?`${o}px`:"auto",height:f>0?`${f}px`:"auto"}})})},me={args:{title:"Title",subTitle:"Sub title",file:"/assets/sample.pdf",loading:!1,error:!1,hasAccordion:!0,previewInModal:!1,width:0,height:500}},U={...me};var ee,ne,ae;U.parameters={...U.parameters,docs:{...(ee=U.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  ...DocumentViewerTemplate
} satisfies Story`,...(ae=(ne=U.parameters)==null?void 0:ne.docs)==null?void 0:ae.source}}};const Ae=["DocumentViewer"];export{U as DocumentViewer,Ae as __namedExportsOrder,ke as default};
