import{j as e}from"./jsx-runtime-NtR90vs_.js";import{c as Q}from"./clsx-B-dksMZM.js";import{r as n}from"./iframe-DMgJMfTy.js";import{M as ne,f as ae,g as re,h as le,i as te,j as ie}from"./Accordion-JL1wmvGP.js";import{M as c}from"./Icon-BPlfcXXP.js";import{M as de}from"./Button-BXeyTgse.js";import{M as oe}from"./Modal-CAtEg6IN.js";import"./Card-CKJ7v-fX.js";import"./floating-ui.utils.dom-BiKb4_oH.js";import"./useRenderElement-BDAcc6QV.js";import"./useControlled-DPoCxAFN.js";import"./createBaseUIEventDetails-DyI0pd9j.js";import"./useOpenChangeComplete-CKh5LlvE.js";import"./index-BuszbRwq.js";import"./index-z-sgVaVj.js";import"./useTransitionStatus-iJ_cH9EC.js";import"./useButton-By0iWj5u.js";import"./owner-CwWlm1ZE.js";import"./ReactStore-BbW3xTW3.js";import"./event-BuaqxoFo.js";import"./index-CwmSl8QK.js";import"./inertValue-heD8jRfE.js";import"./composite-C45KQDT5.js";const z=({viewerId:t=`pdfjs-viewer-ID${Date.now()}`,viewerFolder:v="/assets/pdfjs/web/viewer.html",externalWindow:i=!1,target:d="_blank",showSpinner:q=!0,downloadFileName:a,openFile:m=!0,download:o=!0,startDownload:s,viewBookmark:U=!0,print:C=!0,startPrint:$,fullScreen:O=!0,find:T=!0,zoom:_,nameddest:N,pagemode:P,lastPage:w,rotatecw:D,rotateccw:M,cursor:S,scroll:p,spread:b,locale:k,useOnlyCssZoom:I=!1,errorOverride:h=!1,errorAppend:j=!0,errorMessage:E,diagnosticLogs:J=!0,externalWindowOptions:B,onBeforePrint:F,onAfterPrint:y,onDocumentLoad:f,onPageChange:X,pdfSrc:u,page:W})=>{const H=n.useRef(null),A=n.useRef(),[R,Y]=n.useState(null),Z=n.useCallback(g=>{const{data:r}=g;if(r&&r.viewerId&&r.event&&r.viewerId===t){const V=r.event,l=r.param;V==="beforePrint"&&F?F():V==="afterPrint"&&y?y():V==="pagesLoaded"&&f?f(l):V==="pageChange"&&X&&X(l)}},[t,F,y,f,X]);n.useEffect(()=>(window.addEventListener("message",Z,!1),()=>{window.removeEventListener("message",Z,!1)}),[Z]),n.useEffect(()=>(i||ee(),()=>{R&&R.close()}),[u,i]),n.useEffect(()=>()=>{A.current&&A.current()},[]);const ee=()=>{if(!u)return;let g;if(u instanceof Blob){const l=URL.createObjectURL(u);g=encodeURIComponent(l),A.current=()=>URL.revokeObjectURL(l)}else if(u instanceof Uint8Array){const l=new Blob([u],{type:"application/pdf"}),G=URL.createObjectURL(l);g=encodeURIComponent(G),A.current=()=>URL.revokeObjectURL(G)}else g=u;let r=v;r+=`?file=${g}`;const V=[`viewerId=${t}`,a&&`fileName=${a}`,`openFile=${m}`,`download=${o}`,s&&`startDownload=${s}`,`viewBookmark=${U}`,`print=${C}`,$&&`startPrint=${$}`,`fullScreen=${O}`,`find=${T}`,w&&`lastpage=${w}`,D&&`rotatecw=${D}`,M&&`rotateccw=${M}`,S&&`cursor=${S}`,p&&`scroll=${p}`,b&&`spread=${b}`,k&&`locale=${k}`,`useOnlyCssZoom=${I}`,E&&`errorMessage=${E}`,h&&`errorOverride=${h}`,j&&`errorAppend=${j}`,W&&`page=${W}`,_&&`zoom=${_}`,N&&`nameddest=${N}`,P&&`pagemode=${P}`];if(r+="&"+V.filter(Boolean).join("&"),i){if(!R||R.closed){const l=window.open("",d,B||"");if(l==null){J&&console.error('For "externalWindow = true", pop-ups should be enabled.');return}Y(l),q&&l.document.write(`
            <style>
              .loader {
                position: fixed;
                left: 40%;
                top: 40%;
                border: 16px solid #f3f3f3;
                border-radius: 50%;
                border-top: 16px solid #3498db;
                width: 120px;
                height: 120px;
                animation: spin 2s linear infinite;
              }
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
            </style>
            <div class="loader"></div>
          `)}R.location.href=r}else H.current&&H.current.contentWindow?.location.replace(r)};return e.jsx("iframe",{title:"pdfjs-viewer",hidden:i||!i&&!u,ref:H,width:"100%",height:"100%"})};try{z.displayName="PdfJsViewer",z.__docgenInfo={description:"",displayName:"PdfJsViewer",props:{viewerId:{defaultValue:{value:"`pdfjs-viewer-ID${Date.now()}`"},description:"",name:"viewerId",required:!1,type:{name:"string | undefined"}},viewerFolder:{defaultValue:{value:"/assets/pdfjs/web/viewer.html"},description:"",name:"viewerFolder",required:!1,type:{name:"string | undefined"}},externalWindow:{defaultValue:{value:"false"},description:"",name:"externalWindow",required:!1,type:{name:"boolean | undefined"}},target:{defaultValue:{value:"_blank"},description:"",name:"target",required:!1,type:{name:"string | undefined"}},showSpinner:{defaultValue:{value:"true"},description:"",name:"showSpinner",required:!1,type:{name:"boolean | undefined"}},downloadFileName:{defaultValue:null,description:"",name:"downloadFileName",required:!1,type:{name:"string | undefined"}},openFile:{defaultValue:{value:"true"},description:"",name:"openFile",required:!1,type:{name:"boolean | undefined"}},download:{defaultValue:{value:"true"},description:"",name:"download",required:!1,type:{name:"boolean | undefined"}},startDownload:{defaultValue:null,description:"",name:"startDownload",required:!1,type:{name:"boolean | undefined"}},viewBookmark:{defaultValue:{value:"true"},description:"",name:"viewBookmark",required:!1,type:{name:"boolean | undefined"}},print:{defaultValue:{value:"true"},description:"",name:"print",required:!1,type:{name:"boolean | undefined"}},startPrint:{defaultValue:null,description:"",name:"startPrint",required:!1,type:{name:"boolean | undefined"}},fullScreen:{defaultValue:{value:"true"},description:"",name:"fullScreen",required:!1,type:{name:"boolean | undefined"}},find:{defaultValue:{value:"true"},description:"",name:"find",required:!1,type:{name:"boolean | undefined"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!1,type:{name:"string | undefined"}},nameddest:{defaultValue:null,description:"",name:"nameddest",required:!1,type:{name:"string | undefined"}},pagemode:{defaultValue:null,description:"",name:"pagemode",required:!1,type:{name:"string | undefined"}},lastPage:{defaultValue:null,description:"",name:"lastPage",required:!1,type:{name:"boolean | undefined"}},rotatecw:{defaultValue:null,description:"",name:"rotatecw",required:!1,type:{name:"boolean | undefined"}},rotateccw:{defaultValue:null,description:"",name:"rotateccw",required:!1,type:{name:"boolean | undefined"}},cursor:{defaultValue:null,description:"",name:"cursor",required:!1,type:{name:"string | undefined"}},scroll:{defaultValue:null,description:"",name:"scroll",required:!1,type:{name:"string | undefined"}},spread:{defaultValue:null,description:"",name:"spread",required:!1,type:{name:"string | undefined"}},locale:{defaultValue:null,description:"",name:"locale",required:!1,type:{name:"string | undefined"}},useOnlyCssZoom:{defaultValue:{value:"false"},description:"",name:"useOnlyCssZoom",required:!1,type:{name:"boolean | undefined"}},errorOverride:{defaultValue:{value:"false"},description:"",name:"errorOverride",required:!1,type:{name:"boolean | undefined"}},errorAppend:{defaultValue:{value:"true"},description:"",name:"errorAppend",required:!1,type:{name:"boolean | undefined"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | undefined"}},diagnosticLogs:{defaultValue:{value:"true"},description:"",name:"diagnosticLogs",required:!1,type:{name:"boolean | undefined"}},externalWindowOptions:{defaultValue:null,description:"",name:"externalWindowOptions",required:!1,type:{name:"string | undefined"}},onBeforePrint:{defaultValue:null,description:"",name:"onBeforePrint",required:!1,type:{name:"(() => void) | undefined"}},onAfterPrint:{defaultValue:null,description:"",name:"onAfterPrint",required:!1,type:{name:"(() => void) | undefined"}},onDocumentLoad:{defaultValue:null,description:"",name:"onDocumentLoad",required:!1,type:{name:"((param: any) => void) | undefined"}},onPageChange:{defaultValue:null,description:"",name:"onPageChange",required:!1,type:{name:"((param: any) => void) | undefined"}},pdfSrc:{defaultValue:null,description:"",name:"pdfSrc",required:!1,type:{name:"string | Blob | Uint8Array<ArrayBufferLike> | null | undefined"}},page:{defaultValue:null,description:"",name:"page",required:!1,type:{name:"number | undefined"}}}}}catch{}const x=n.forwardRef(({title:t,subTitle:v,file:i,hasAccordion:d=!0,isExpanded:q=!0,previewInModal:a=!1,className:m,style:o,loading:s,error:U,retry:C,dataUniqueId:$,dataTestId:O,documentIcon:T,emptyIcon:_,errorIcon:N,reloadIcon:P,viewIcon:w,language:D,closeIconAriaLabel:M},S)=>{const[p,b]=n.useState(q),[k,I]=n.useState(!1),h=n.useRef(null),j=()=>{I(!0)},E=n.useCallback(f=>{f.key==="Enter"&&j()},[]),J=n.useCallback(()=>{C?.(),h.current?.focus()},[C]),B=n.useMemo(()=>{if(a)return()=>e.jsx("div",{tabIndex:0,role:"button",onClick:j,onKeyDown:E,className:"flx-document-preview-view",children:w||e.jsx(c,{name:"eye",className:"flx-document-action-icon",role:"presentation"})});if(!d)return()=>e.jsx(c,{role:"presentation"})},[E,d,a,w]),F=()=>{!d||a||b(!p)},y=()=>s?e.jsx("div",{className:"flx-viewer-container flx-not-loaded",style:o,children:e.jsx(c,{name:"documentPreviewLoading",className:"flx-document-loading",role:"presentation"})}):U?e.jsxs("div",{className:"flx-viewer-container flx-document-error",style:o,children:[N||e.jsx(c,{name:"documentPreviewError",role:"presentation"}),e.jsx(de,{className:"flx-document-preview-retry",variant:"text",onClick:J,icon:"left",iconComponent:P||e.jsx(c,{name:"retry",role:"presentation"}),children:"Retry loading"})]}):i?e.jsx(z,{pdfSrc:i,locale:D}):e.jsx("div",{className:"flx-viewer-container flx-document-empty",style:o,children:_||e.jsx(c,{name:"documentPreviewEmpty",role:"presentation"})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Q([m,"flx-document-preview",{"flx-viewer-closed":a||!p}]),ref:S,"data-uniqueid":$,"data-testid":O,children:e.jsx(ne,{className:"document-viewer-accordion",children:e.jsxs(ae,{open:!a&&p,onOpenChange:b,alwaysOpened:!d&&a,disabled:a||!d,children:[e.jsxs(re,{children:[e.jsx(le,{ref:h,caretIcon:B,onClick:F,children:e.jsxs("div",{className:"flx-document-preview-title",children:[e.jsx("div",{className:"flx-document-preview-icon",children:T||e.jsx(c,{name:"documents",role:"presentation"})}),t]})}),e.jsx(te,{alwaysDisplay:a,children:v})]}),e.jsx(ie,{children:e.jsx("div",{className:"flx-viewer-container",style:o,children:y()})})]})})}),a&&e.jsx(oe,{dismissible:!0,className:Q("flx-document-viewer-modal",m),open:k,onOpenChange:f=>I(f),onBackdropClick:()=>I(!1),closeIconAriaLabel:M,children:y()})]})});x.displayName="FlxDocumentViewer";const K=n.memo(x);K.displayName="MemoFlxDocumentViewer";try{x.displayName="FlxDocumentViewer",x.__docgenInfo={description:"",displayName:"FlxDocumentViewer",props:{dataUniqueId:{defaultValue:null,description:"",name:"dataUniqueId",required:!1,type:{name:"string | undefined"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},hasAccordion:{defaultValue:{value:"true"},description:"",name:"hasAccordion",required:!1,type:{name:"boolean | undefined"}},previewInModal:{defaultValue:{value:"false"},description:"",name:"previewInModal",required:!1,type:{name:"boolean | undefined"}},isExpanded:{defaultValue:{value:"true"},description:"",name:"isExpanded",required:!1,type:{name:"boolean | undefined"}},file:{defaultValue:null,description:"",name:"file",required:!1,type:{name:"string | Blob | Uint8Array<ArrayBufferLike> | null | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean | undefined"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean | undefined"}},retry:{defaultValue:null,description:"",name:"retry",required:!1,type:{name:"(() => void) | undefined"}},documentIcon:{defaultValue:null,description:"",name:"documentIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},emptyIcon:{defaultValue:null,description:"",name:"emptyIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},errorIcon:{defaultValue:null,description:"",name:"errorIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},reloadIcon:{defaultValue:null,description:"",name:"reloadIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},viewIcon:{defaultValue:null,description:"",name:"viewIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},shareIcon:{defaultValue:null,description:"",name:"shareIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"string | undefined"}},closeIconAriaLabel:{defaultValue:null,description:"",name:"closeIconAriaLabel",required:!1,type:{name:"string | undefined"}}}}}catch{}try{K.displayName="MemoFlxDocumentViewer",K.__docgenInfo={description:"",displayName:"MemoFlxDocumentViewer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string | undefined"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean | undefined"}},file:{defaultValue:null,description:"",name:"file",required:!1,type:{name:"string | Blob | Uint8Array<ArrayBufferLike> | null | undefined"}},retry:{defaultValue:null,description:"",name:"retry",required:!1,type:{name:"(() => void) | undefined"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string | undefined"}},hasAccordion:{defaultValue:{value:"true"},description:"",name:"hasAccordion",required:!1,type:{name:"boolean | undefined"}},isExpanded:{defaultValue:{value:"true"},description:"",name:"isExpanded",required:!1,type:{name:"boolean | undefined"}},previewInModal:{defaultValue:{value:"false"},description:"",name:"previewInModal",required:!1,type:{name:"boolean | undefined"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean | undefined"}},dataUniqueId:{defaultValue:null,description:"",name:"dataUniqueId",required:!1,type:{name:"string | undefined"}},documentIcon:{defaultValue:null,description:"",name:"documentIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},emptyIcon:{defaultValue:null,description:"",name:"emptyIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},errorIcon:{defaultValue:null,description:"",name:"errorIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},reloadIcon:{defaultValue:null,description:"",name:"reloadIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},viewIcon:{defaultValue:null,description:"",name:"viewIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},language:{defaultValue:null,description:"",name:"language",required:!1,type:{name:"string | undefined"}},closeIconAriaLabel:{defaultValue:null,description:"",name:"closeIconAriaLabel",required:!1,type:{name:"string | undefined"}},shareIcon:{defaultValue:null,description:"",name:"shareIcon",required:!1,type:{name:"ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined"}}}}}catch{}const Pe={title:"DocumentViewer",component:x,argTypes:{},render:({title:t,subTitle:v,file:i,loading:d,error:q,hasAccordion:a,previewInModal:m,width:o,height:s})=>e.jsx("div",{className:"flx-default-theme",children:e.jsx(x,{title:t,subTitle:v,file:i,loading:d,error:q,hasAccordion:a,previewInModal:m,style:{width:o>0?`${o}px`:"auto",height:s>0?`${s}px`:"auto"}})})},ue={args:{title:"Title",subTitle:"Sub title",file:"/assets/sample.pdf",loading:!1,error:!1,hasAccordion:!0,previewInModal:!1,width:0,height:500}},L={...ue};L.parameters={...L.parameters,docs:{...L.parameters?.docs,source:{originalSource:`{
  ...DocumentViewerTemplate
} satisfies Story`,...L.parameters?.docs?.source}}};const De=["DocumentViewer"];export{L as DocumentViewer,De as __namedExportsOrder,Pe as default};
