import{r as o}from"./iframe-DMgJMfTy.js";import{E as se,d as oe,b as ne,N as y,c as de,f as Ce,m as he}from"./useRenderElement-BDAcc6QV.js";import{u as ve,b as S}from"./floating-ui.utils.dom-BiKb4_oH.js";import{v as ie}from"./ReactStore-BbW3xTW3.js";import{u as le,c as be,n as ge}from"./createBaseUIEventDetails-DyI0pd9j.js";import{t as ye}from"./useOpenChangeComplete-CKh5LlvE.js";import{f as ue,a as ce,u as fe,b as xe,c as Pe,d as Ve}from"./useValueChanged-XjYeMUBg.js";import{u as Re,A as ke,C as Ie}from"./CompositeRoot-Bq4X5i7Y.js";import{u as Ee}from"./FieldItemContext-BZl_S0aU.js";import{u as Me}from"./useLabelableId-BsEkCH8C.js";import{j as x}from"./jsx-runtime-NtR90vs_.js";import{a as Fe}from"./useButton-By0iWj5u.js";import{u as Oe}from"./useControlled-DPoCxAFN.js";import{S as Te}from"./composite-C45KQDT5.js";import{e as qe}from"./owner-CwWlm1ZE.js";let ae=(function(t){return t.checked="data-checked",t.unchecked="data-unchecked",t.disabled="data-disabled",t.readonly="data-readonly",t.required="data-required",t.valid="data-valid",t.invalid="data-invalid",t.touched="data-touched",t.dirty="data-dirty",t.filled="data-filled",t.focused="data-focused",t})({});const re={checked(t){return t?{[ae.checked]:""}:{[ae.unchecked]:""}},...ye,...ue};function Se(t){const{render:f,className:G,state:P=se,props:V=oe,refs:R=oe,metadata:s,stateAttributesMapping:n,tag:l="div",...k}=t,{compositeProps:I,compositeRef:E}=Re({metadata:s});return ne(l,t,{state:P,ref:[...R,E],props:[I,...V,k],stateAttributesMapping:n})}const pe=o.createContext({disabled:void 0,readOnly:void 0,required:void 0,name:void 0,checkedValue:"",setCheckedValue:y,onValueChange:y,touched:!1,setTouched:y,registerControlRef:y});function Ge(){return o.useContext(pe)}const je=o.createContext(void 0),et=o.forwardRef(function(f,G){const{render:P,className:V,disabled:R=!1,readOnly:s=!1,required:n=!1,value:l,inputRef:k,nativeButton:I=!1,id:E,...D}=f,{disabled:J,readOnly:j,required:w,checkedValue:M,setCheckedValue:F,touched:U,setTouched:z,validation:W,registerControlRef:v}=Ge(),{setDirty:r,validityData:B,setTouched:N,setFilled:b,state:K,disabled:Q}=ce(),X=Ee(),{labelId:p,getDescriptionProps:C,registerLabelableControlRef:L}=fe(),e=Q||X.disabled||J||R,d=j||s,u=w||n,c=M===l,m=o.useRef(null),h=o.useRef(null),O=de(k,h);ve(()=>{h.current?.checked&&b(!0)},[b]);const T=le(),_=Me({id:E,implicit:!1,controlRef:m}),Z={role:"radio","aria-checked":c,"aria-required":u||void 0,"aria-disabled":e||void 0,"aria-readonly":d||void 0,"aria-labelledby":p,[ke]:c?"":void 0,id:T,disabled:e,onKeyDown(i){i.key==="Enter"&&i.preventDefault()},onClick(i){i.defaultPrevented||e||d||(i.preventDefault(),h.current?.click())},onFocus(i){i.defaultPrevented||e||d||!U||(h.current?.click(),z(!1))}},{getButtonProps:Y,buttonRef:$}=Fe({disabled:e,native:I}),A=o.useMemo(()=>({type:"radio",ref:O,id:_,tabIndex:-1,style:ie,"aria-hidden":!0,disabled:e,checked:c,required:u,readOnly:d,onChange(i){if(i.nativeEvent.defaultPrevented||e||d||l===void 0)return;const te=be(ge,i.nativeEvent);te.isCanceled||(N(!0),r(l!==B.initialValue),b(!0),F(l,te))},onFocus(){m.current?.focus()}}),[c,e,_,O,d,u,F,r,N,b,B.initialValue,l]),g=o.useMemo(()=>({...K,required:u,disabled:e,readOnly:d,checked:c}),[K,e,d,c,u]),ee=o.useMemo(()=>g,[g]),H=F!==y,a=[G,v,L,m,$],q=[Z,C,W?.getValidationProps??se,D,Y],me=ne("span",f,{enabled:!H,state:g,ref:a,props:q,stateAttributesMapping:re});return x.jsxs(je.Provider,{value:ee,children:[H?x.jsx(Se,{tag:"span",render:P,className:V,state:g,refs:a,props:q,stateAttributesMapping:re}):me,x.jsx("input",{...A})]})}),we=o.createContext({legendId:void 0,setLegendId:()=>{},disabled:void 0});function Be(t=!1){const f=o.useContext(we);if(!f&&!t)throw new Error(Ce(86));return f}const Ne=[Te],tt=o.forwardRef(function(f,G){const{render:P,className:V,disabled:R,readOnly:s,required:n,onValueChange:l,value:k,defaultValue:I,name:E,inputRef:D,id:J,...j}=f,{setTouched:w,setFocused:M,shouldValidateOnChange:F,validationMode:U,name:z,disabled:W,state:v,validation:r,setDirty:B,setFilled:N,validityData:b}=ce(),{labelId:K}=fe(),{clearErrors:Q}=xe(),X=Be(!0),p=W||R,C=z??E,L=le(J),[e,d]=Oe({controlled:k,default:I,name:"RadioGroup",state:"value"}),u=S(l),c=S((a,q)=>{u(a,q),!q.isCanceled&&d(a)}),m=o.useRef(null),h=S(a=>{m.current==null&&a!=null&&(m.current=a)});Pe({id:L,commit:r.commit,value:e,controlRef:m,name:C,getValue:()=>e??null}),Ve(e,()=>{Q(C),B(e!==b.initialValue),N(e!=null),F()?r.commit(e):r.commit(e,!0)});const[O,T]=o.useState(!1),_=S(a=>{qe(a.currentTarget,a.relatedTarget)||(w(!0),M(!1),U==="onBlur"&&r.commit(e))}),Z=S(a=>{a.key.startsWith("Arrow")&&(w(!0),T(!0),M(!0))}),Y=o.useMemo(()=>e==null?"":typeof e=="string"?e:JSON.stringify(e),[e]),$=de(r.inputRef,D),A=he({value:Y,ref:$,id:L,name:Y?C:void 0,disabled:p,readOnly:s,required:n,"aria-labelledby":j["aria-labelledby"]??X?.legendId,"aria-hidden":!0,tabIndex:-1,style:ie,onChange:y,onFocus(){m.current?.focus()}},r.getInputValidationProps),g=o.useMemo(()=>({...v,disabled:p??!1,required:n??!1,readOnly:s??!1}),[v,p,s,n]),ee=o.useMemo(()=>({...v,checkedValue:e,disabled:p,validation:r,name:C,onValueChange:u,readOnly:s,registerControlRef:h,required:n,setCheckedValue:c,setTouched:T,touched:O}),[e,p,r,v,C,u,s,h,n,c,T,O]),H={role:"radiogroup","aria-required":n||void 0,"aria-disabled":p||void 0,"aria-readonly":s||void 0,"aria-labelledby":K,onFocus(){M(!0)},onBlur:_,onKeyDownCapture:Z};return x.jsxs(pe.Provider,{value:ee,children:[x.jsx(Ie,{render:P,className:V,state:g,props:[H,r.getValidationProps,j],refs:[G],stateAttributesMapping:ue,enableHomeAndEndKeys:!1,modifierKeys:Ne}),x.jsx("input",{...A})]})});export{et as R,tt as a};
