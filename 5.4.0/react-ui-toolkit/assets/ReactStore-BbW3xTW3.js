import{T as Oe,c as ht}from"./useOpenChangeComplete-CKh5LlvE.js";import{r as d,f as gt}from"./iframe-DMgJMfTy.js";import{r as Ve}from"./index-BuszbRwq.js";import{u as Y,c as We,h as bt,b as C,i as _,j as he,k as vt,a as mt,l as yt,m as ge,n as Et}from"./floating-ui.utils.dom-BiKb4_oH.js";import{e as G,h as Z,f as St,n as Rt,g as z,p as Tt,q as D,F as Ct,r as Ke,S as _e}from"./owner-CwWlm1ZE.js";import{j as q}from"./jsx-runtime-NtR90vs_.js";import{c as B,g as wt,j as It,o as Ot,t as xe,n as xt}from"./createBaseUIEventDetails-DyI0pd9j.js";import{u as Pt,E as Nt,b as Mt,f as kt,N as At}from"./useRenderElement-BDAcc6QV.js";import{b as Dt}from"./event-BuaqxoFo.js";import{r as Lt}from"./index-CwmSl8QK.js";const Bn={style:{transition:"none"}},Yn="data-base-ui-click-trigger",Un={fallbackAxisSide:"end"};let Se=(function(n){return n.open="data-open",n.closed="data-closed",n[n.startingStyle=Oe.startingStyle]="startingStyle",n[n.endingStyle=Oe.endingStyle]="endingStyle",n.anchorHidden="data-anchor-hidden",n})({}),Ft=(function(n){return n.popupOpen="data-popup-open",n.pressed="data-pressed",n})({});const jt={[Ft.popupOpen]:""},Vt={[Se.open]:""},Wt={[Se.closed]:""},Kt={[Se.anchorHidden]:""},$n={open(n){return n?jt:null}},Hn={open(n){return n?Vt:Wt},anchorHidden(n){return n?Kt:null}},H=0;class ie{static create(){return new ie}currentId=H;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=H,t()},e)}isStarted(){return this.currentId!==H}clear=()=>{this.currentId!==H&&(clearTimeout(this.currentId),this.currentId=H)};disposeEffect=()=>this.clear}function Pe(){const n=Pt(ie.create).current;return ht(n.disposeEffect),n}function ee(n,e,t=!0){return n.filter(s=>s.parentId===e&&(!t||s.context?.open)).flatMap(s=>[s,...ee(n,s.id,t)])}function Gn(n,e){let t=[],r=n.find(s=>s.id===e)?.parentId;for(;r;){const s=n.find(i=>i.id===r);r=s?.parentId,s&&(t=t.concat(s))}return t}var _t=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],te=_t.join(","),ze=typeof Element>"u",U=ze?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ne=!ze&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},re=function(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),i=s===""||s==="true",o=i||t&&e&&(typeof e.closest=="function"?e.closest("[inert]"):re(e.parentNode));return o},zt=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},qe=function(e,t,r){if(re(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(te));return t&&U.call(e,te)&&s.unshift(e),s=s.filter(r),s},se=function(e,t,r){for(var s=[],i=Array.from(e);i.length;){var o=i.shift();if(!re(o,!1))if(o.tagName==="SLOT"){var u=o.assignedElements(),l=u.length?u:o.children,a=se(l,!0,r);r.flatten?s.push.apply(s,a):s.push({scopeParent:o,candidates:a})}else{var f=U.call(o,te);f&&r.filter(o)&&(t||!e.includes(o))&&s.push(o);var b=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),S=!re(b,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(b&&S){var g=se(b===!0?o.children:b.children,!0,r);r.flatten?s.push.apply(s,g):s.push({scopeParent:o,candidates:g})}else i.unshift.apply(i,o.children)}}return s},Be=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ye=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||zt(e))&&!Be(e)?0:e.tabIndex},qt=function(e,t){var r=Ye(e);return r<0&&t&&!Be(e)?0:r},Bt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ue=function(e){return e.tagName==="INPUT"},Yt=function(e){return Ue(e)&&e.type==="hidden"},Ut=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},$t=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Ht=function(e){if(!e.name)return!0;var t=e.form||ne(e),r=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=$t(s,e.form);return!i||i===e},Gt=function(e){return Ue(e)&&e.type==="radio"},Xt=function(e){return Gt(e)&&!Ht(e)},Zt=function(e){var t,r=e&&ne(e),s=(t=r)===null||t===void 0?void 0:t.host,i=!1;if(r&&r!==e){var o,u,l;for(i=!!((o=s)!==null&&o!==void 0&&(u=o.ownerDocument)!==null&&u!==void 0&&u.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&s;){var a,f,b;r=ne(s),s=(a=r)===null||a===void 0?void 0:a.host,i=!!((f=s)!==null&&f!==void 0&&(b=f.ownerDocument)!==null&&b!==void 0&&b.contains(s))}}return i},Ne=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},Jt=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var o=U.call(e,"details>summary:first-of-type"),u=o?e.parentElement:e;if(U.call(u,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof s=="function"){for(var l=e;e;){var a=e.parentElement,f=ne(e);if(a&&!a.shadowRoot&&s(a)===!0)return Ne(e);e.assignedSlot?e=e.assignedSlot:!a&&f!==e.ownerDocument?e=f.host:e=a}e=l}if(Zt(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ne(e);return!1},Qt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return U.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},ye=function(e,t){return!(t.disabled||Yt(t)||Jt(t,e)||Ut(t)||Qt(t))},Ee=function(e,t){return!(Xt(t)||Ye(t)<0||!ye(e,t))},en=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},$e=function(e){var t=[],r=[];return e.forEach(function(s,i){var o=!!s.scopeParent,u=o?s.scopeParent:s,l=qt(u,o),a=o?$e(s.candidates):u;l===0?o?t.push.apply(t,a):t.push(u):r.push({documentOrder:i,tabIndex:l,item:s,isScope:o,content:a})}),r.sort(Bt).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(t)},He=function(e,t){t=t||{};var r;return t.getShadowRoot?r=se([e],t.includeContainer,{filter:Ee.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:en}):r=qe(e,t.includeContainer,Ee.bind(null,t)),$e(r)},Xn=function(e,t){t=t||{};var r;return t.getShadowRoot?r=se([e],t.includeContainer,{filter:ye.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=qe(e,t.includeContainer,ye.bind(null,t)),r},Zn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return U.call(e,te)===!1?!1:Ee(t,e)};const Ge=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Xe(n,e){const t=He(n,Ge()),r=t.length;if(r===0)return;const s=St(Z(n)),i=t.indexOf(s),o=i===-1?e===1?0:r-1:i+e;return t[o]}function tn(n){return Xe(Z(n).body,1)||n}function nn(n){return Xe(Z(n).body,-1)||n}function be(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!G(t,r)}function rn(n){He(n,Ge()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function Me(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}function sn(){const n=new Map;return{emit(e,t){n.get(e)?.forEach(r=>r(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){n.get(e)?.delete(t)}}}const on=d.createContext(null),an=d.createContext(null),cn=()=>d.useContext(on)?.id||null,un=n=>{const e=d.useContext(an);return n??e};function Ze(n){return`data-base-ui-${n}`}function Jn(){return{open:!1,onOpenChange:()=>{},dataRef:{current:{}},elements:{floating:null,reference:null,domReference:null},events:{on:()=>{},off:()=>{},emit:()=>{}},floatingId:"",refs:{setPositionReference:()=>{}}}}const Je={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1},ke=d.forwardRef(function(e,t){const[r,s]=d.useState();Y(()=>{Rt&&s("button")},[]);const i={tabIndex:0,role:r};return q.jsx("span",{...e,ref:t,style:Je,"aria-hidden":r?void 0:!0,...i,"data-base-ui-focus-guard":""})}),Qe=d.createContext(null),ln=()=>d.useContext(Qe),fn=Ze("portal");function dn(n={}){const{ref:e,container:t,componentProps:r=Nt,elementProps:s,elementState:i}=n,o=We(),l=ln()?.portalNode,[a,f]=d.useState(null),[b,S]=d.useState(null),g=d.useRef(null),m=d.useCallback(R=>{S(R)},[]);Y(()=>{if(t===null){g.current&&(g.current=null,S(null),f(null));return}if(o==null)return;const R=(t&&(bt(t)?t:t.current))??l??document.body;if(R==null){g.current&&(g.current=null,S(null),f(null));return}g.current!==R&&(g.current=R,S(null),f(R))},[t,l,o]);const h=Mt("div",r,{ref:[e,m],state:i,props:[{id:o,[fn]:""},s]});return{portalNode:b,portalSubtree:a&&h?Ve.createPortal(h,a):null}}const Qn=d.forwardRef(function(e,t){const{children:r,container:s,className:i,render:o,renderGuards:u,...l}=e,{portalNode:a,portalSubtree:f}=dn({container:s,ref:t,componentProps:e,elementProps:l}),b=d.useRef(null),S=d.useRef(null),g=d.useRef(null),m=d.useRef(null),[h,k]=d.useState(null),R=h?.modal,P=h?.open,I=typeof u=="boolean"?u:!!h&&!h.modal&&h.open&&!!a;d.useEffect(()=>{if(!a||R)return;function E(T){a&&be(T)&&(T.type==="focusin"?Me:rn)(a)}return a.addEventListener("focusin",E,!0),a.addEventListener("focusout",E,!0),()=>{a.removeEventListener("focusin",E,!0),a.removeEventListener("focusout",E,!0)}},[a,R]),d.useEffect(()=>{!a||P||Me(a)},[P,a]);const A=d.useMemo(()=>({beforeOutsideRef:b,afterOutsideRef:S,beforeInsideRef:g,afterInsideRef:m,portalNode:a,setFocusManagerState:k}),[a]);return q.jsxs(d.Fragment,{children:[f,q.jsxs(Qe.Provider,{value:A,children:[I&&a&&q.jsx(ke,{"data-type":"outside",ref:b,onFocus:E=>{if(be(E,a))g.current?.focus();else{const T=h?h.domReference:null;nn(T)?.focus()}}}),I&&a&&q.jsx("span",{"aria-owns":a.id,style:Je}),a&&Ve.createPortal(r,a),I&&a&&q.jsx(ke,{"data-type":"outside",ref:S,onFocus:E=>{if(be(E,a))m.current?.focus();else{const T=h?h.domReference:null;tn(T)?.focus(),h?.closeOnFocusOut&&h?.onOpenChange(!1,B(wt,E.nativeEvent))}}})]})]})}),pn={intentional:"onClick",sloppy:"onPointerDown"};function hn(n){return{escapeKey:typeof n=="boolean"?n:n?.escapeKey??!1,outsidePress:typeof n=="boolean"?n:n?.outsidePress??!0}}function er(n,e={}){const{open:t,onOpenChange:r,elements:s,dataRef:i}=n,{enabled:o=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:a="sloppy",referencePress:f=!1,referencePressEvent:b="sloppy",ancestorScroll:S=!1,bubbles:g,externalTree:m}=e,h=un(m),k=C(typeof l=="function"?l:()=>!1),R=typeof l=="function"?k:l,P=d.useRef(!1),{escapeKey:I,outsidePress:A}=hn(g),E=d.useRef(null),T=Pe(),N=Pe(),L=C(()=>{N.clear(),i.current.insideReactTree=!1}),ae=d.useRef(!1),Re=d.useRef(""),ce=C(c=>{Re.current=c.pointerType}),W=C(()=>{const c=Re.current,v=c==="pen"||!c?"mouse":c,p=typeof a=="function"?a():a;return typeof p=="string"?p:p[v]}),F=C(c=>{if(!t||!o||!u||c.key!=="Escape"||ae.current)return;const v=i.current.floatingContext?.nodeId,p=h?ee(h.nodesRef.current,v):[];if(!I&&p.length>0){let w=!0;if(p.forEach(x=>{x.context?.open&&!x.context.dataRef.current.__escapeKeyBubbles&&(w=!1)}),!w)return}const M=Dt(c)?c.nativeEvent:c,y=B(It,M);r(!1,y),!I&&!y.isPropagationAllowed&&c.stopPropagation()}),nt=C(c=>{const v=W();return v==="intentional"&&c.type!=="click"||v==="sloppy"&&c.type==="click"}),j=C(()=>{i.current.insideReactTree=!0,N.start(0,L)}),$=C((c,v=!1)=>{if(nt(c)){L();return}if(i.current.insideReactTree){L();return}if(W()==="intentional"&&v||typeof R=="function"&&!R(c))return;const p=z(c),M=`[${Ze("inert")}]`,y=Z(s.floating).querySelectorAll(M);if(p&&s.triggers?.some(O=>G(O,p)))return;let w=_(p)?p:null;for(;w&&!he(w);){const O=vt(w);if(he(O)||!_(O))break;w=O}if(y.length&&_(p)&&!Tt(p)&&!G(p,s.floating)&&Array.from(y).every(O=>!G(w,O)))return;if(mt(p)&&!("touches"in c)){const O=he(p),K=yt(p),Ie=/auto|scroll/,at=O||Ie.test(K.overflowX),ct=O||Ie.test(K.overflowY),ut=at&&p.clientWidth>0&&p.scrollWidth>p.clientWidth,lt=ct&&p.clientHeight>0&&p.scrollHeight>p.clientHeight,ft=K.direction==="rtl",dt=lt&&(ft?c.offsetX<=p.offsetWidth-p.clientWidth:c.offsetX>p.clientWidth),pt=ut&&c.offsetY>p.clientHeight;if(dt||pt)return}const x=i.current.floatingContext?.nodeId,it=h&&ee(h.nodesRef.current,x).some(O=>D(c,O.context?.elements.floating));if(D(c,s.floating)||D(c,s.domReference)||it)return;const we=h?ee(h.nodesRef.current,x):[];if(we.length>0){let O=!0;if(we.forEach(K=>{K.context?.open&&!K.context.dataRef.current.__outsidePressBubbles&&(O=!1)}),!O)return}r(!1,B(Ot,c)),L()}),Te=C(c=>{W()!=="sloppy"||c.pointerType==="touch"||!t||!o||D(c,s.floating)||D(c,s.domReference)||$(c)}),rt=C(c=>{if(W()!=="sloppy"||!t||!o||D(c,s.floating)||D(c,s.domReference))return;const v=c.touches[0];v&&(E.current={startTime:Date.now(),startX:v.clientX,startY:v.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},T.start(1e3,()=>{E.current&&(E.current.dismissOnTouchEnd=!1,E.current.dismissOnMouseDown=!1)}))}),ue=C(c=>{const v=z(c);function p(){rt(c),v?.removeEventListener(c.type,p)}v?.addEventListener(c.type,p)}),V=C(c=>{const v=P.current;if(P.current=!1,T.clear(),c.type==="mousedown"&&E.current&&!E.current.dismissOnMouseDown)return;const p=z(c);function M(){c.type==="pointerdown"?Te(c):$(c,v),p?.removeEventListener(c.type,M)}p?.addEventListener(c.type,M)}),st=C(c=>{if(W()!=="sloppy"||!E.current||D(c,s.floating)||D(c,s.domReference))return;const v=c.touches[0];if(!v)return;const p=Math.abs(v.clientX-E.current.startX),M=Math.abs(v.clientY-E.current.startY),y=Math.sqrt(p*p+M*M);y>5&&(E.current.dismissOnTouchEnd=!0),y>10&&($(c),T.clear(),E.current=null)}),le=C(c=>{const v=z(c);function p(){st(c),v?.removeEventListener(c.type,p)}v?.addEventListener(c.type,p)}),ot=C(c=>{W()!=="sloppy"||!E.current||D(c,s.floating)||D(c,s.domReference)||(E.current.dismissOnTouchEnd&&$(c),T.clear(),E.current=null)}),fe=C(c=>{const v=z(c);function p(){ot(c),v?.removeEventListener(c.type,p)}v?.addEventListener(c.type,p)});d.useEffect(()=>{if(!t||!o)return;i.current.__escapeKeyBubbles=I,i.current.__outsidePressBubbles=A;const c=new ie;function v(x){r(!1,B(xt,x))}function p(){c.clear(),ae.current=!0}function M(){c.start(Et()?5:0,()=>{ae.current=!1})}const y=Z(s.floating);y.addEventListener("pointerdown",ce,!0),u&&(y.addEventListener("keydown",F),y.addEventListener("compositionstart",p),y.addEventListener("compositionend",M)),R&&(y.addEventListener("click",V,!0),y.addEventListener("pointerdown",V,!0),y.addEventListener("touchstart",ue,!0),y.addEventListener("touchmove",le,!0),y.addEventListener("touchend",fe,!0),y.addEventListener("mousedown",V,!0));let w=[];return S&&(_(s.domReference)&&(w=ge(s.domReference)),_(s.floating)&&(w=w.concat(ge(s.floating))),!_(s.reference)&&s.reference&&s.reference.contextElement&&(w=w.concat(ge(s.reference.contextElement)))),w=w.filter(x=>x!==y.defaultView?.visualViewport),w.forEach(x=>{x.addEventListener("scroll",v,{passive:!0})}),()=>{y.removeEventListener("pointerdown",ce,!0),u&&(y.removeEventListener("keydown",F),y.removeEventListener("compositionstart",p),y.removeEventListener("compositionend",M)),R&&(y.removeEventListener("click",V,!0),y.removeEventListener("pointerdown",V,!0),y.removeEventListener("touchstart",ue,!0),y.removeEventListener("touchmove",le,!0),y.removeEventListener("touchend",fe,!0),y.removeEventListener("mousedown",V,!0)),w.forEach(x=>{x.removeEventListener("scroll",v)}),c.clear()}},[i,s,u,R,t,r,S,o,I,A,F,$,V,Te,ue,le,fe,ce]),d.useEffect(L,[R,L]);const de=d.useMemo(()=>({onKeyDown:F,...f&&{[pn[b]]:c=>{r(!1,B(xe,c.nativeEvent))},...b!=="intentional"&&{onClick(c){r(!1,B(xe,c.nativeEvent))}}}}),[F,r,f,b]),pe=C(c=>{const v=z(c.nativeEvent);!G(s.floating,v)||c.button!==0||(P.current=!0)}),Ce=d.useMemo(()=>({onKeyDown:F,onMouseDown:pe,onMouseUp:pe,onPointerDownCapture:j,onMouseDownCapture:j,onClickCapture:j,onMouseUpCapture:j,onTouchEndCapture:j,onTouchMoveCapture:j}),[F,pe,j]);return d.useMemo(()=>o?{reference:de,floating:Ce,trigger:de}:{},[o,de,Ce])}function tr(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=We(),i=d.useRef({}),[o]=d.useState(()=>sn()),u=cn()!=null,[l,a]=d.useState(r.reference),f=C((g,m)=>{if(i.current.openEvent=g?m.event:void 0,!n.noEmit){const h={open:g,reason:m.reason,nativeEvent:m.event,nested:u,triggerElement:m.trigger};o.emit("openchange",h)}t?.(g,m)}),b=d.useMemo(()=>({setPositionReference:a}),[]),S=d.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference,triggers:r.triggers??[]}),[l,r.reference,r.floating,r.triggers]);return d.useMemo(()=>({dataRef:i,open:e,onOpenChange:f,elements:S,events:o,floatingId:s,refs:b}),[e,f,S,o,s,b])}function nr(n=[]){const e=n.map(a=>a?.reference),t=n.map(a=>a?.floating),r=n.map(a=>a?.item),s=n.map(a=>a?.trigger),i=d.useCallback(a=>J(a,n,"reference"),e),o=d.useCallback(a=>J(a,n,"floating"),t),u=d.useCallback(a=>J(a,n,"item"),r),l=d.useCallback(a=>J(a,n,"trigger"),s);return d.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:u,getTriggerProps:l}),[i,o,u,l])}function J(n,e,t){const r=new Map,s=t==="item",i={};t==="floating"&&(i.tabIndex=-1,i[Ct]="");for(const o in n)s&&n&&(o===Ke||o===_e)||(i[o]=n[o]);for(let o=0;o<e.length;o+=1){let u;const l=e[o]?.[t];typeof l=="function"?u=n?l(n):null:u=l,u&&Ae(i,u,s,r)}return Ae(i,n,s,r),i}function Ae(n,e,t,r){for(const s in e){const i=e[s];t&&(s===Ke||s===_e)||(s.startsWith("on")?(r.has(s)||r.set(s,[]),typeof i=="function"&&(r.get(s)?.push(i),n[s]=(...o)=>r.get(s)?.map(u=>u(...o)).find(u=>u!==void 0))):n[s]=i)}}var oe=Symbol("NOT_FOUND");function gn(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function bn(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function vn(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var De=n=>Array.isArray(n)?n:[n];function mn(n){const e=Array.isArray(n[0])?n[0]:n;return vn(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yn(n,e){const t=[],{length:r}=n;for(let s=0;s<r;s++)t.push(n[s].apply(null,e));return t}function En(n){let e;return{get(t){return e&&n(e.key,t)?e.value:oe},put(t,r){e={key:t,value:r}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function Sn(n,e){let t=[];function r(u){const l=t.findIndex(a=>e(u,a.key));if(l>-1){const a=t[l];return l>0&&(t.splice(l,1),t.unshift(a)),a.value}return oe}function s(u,l){r(u)===oe&&(t.unshift({key:u,value:l}),t.length>n&&t.pop())}function i(){return t}function o(){t=[]}return{get:r,put:s,getEntries:i,clear:o}}var Rn=(n,e)=>n===e;function Tn(n){return function(t,r){if(t===null||r===null||t.length!==r.length)return!1;const{length:s}=t;for(let i=0;i<s;i++)if(!n(t[i],r[i]))return!1;return!0}}function Cn(n,e){const t=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:r=Rn,maxSize:s=1,resultEqualityCheck:i}=t,o=Tn(r);let u=0;const l=s<=1?En(o):Sn(s,o);function a(){let f=l.get(arguments);if(f===oe){if(f=n.apply(null,arguments),u++,i){const S=l.getEntries().find(g=>i(g.value,f));S&&(f=S.value,u!==0&&u--)}l.put(arguments,f)}return f}return a.clearCache=()=>{l.clear(),a.resetResultsCount()},a.resultsCount=()=>u,a.resetResultsCount=()=>{u=0},a}var wn=class{constructor(n){this.value=n}deref(){return this.value}},In=typeof WeakRef<"u"?WeakRef:wn,On=0,Le=1;function Q(){return{s:On,v:void 0,o:null,p:null}}function et(n,e={}){let t=Q();const{resultEqualityCheck:r}=e;let s,i=0;function o(){let u=t;const{length:l}=arguments;for(let b=0,S=l;b<S;b++){const g=arguments[b];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=u.o;m===null&&(u.o=m=new WeakMap);const h=m.get(g);h===void 0?(u=Q(),m.set(g,u)):u=h}else{let m=u.p;m===null&&(u.p=m=new Map);const h=m.get(g);h===void 0?(u=Q(),m.set(g,u)):u=h}}const a=u;let f;if(u.s===Le)f=u.v;else if(f=n.apply(null,arguments),i++,r){const b=s?.deref?.()??s;b!=null&&r(b,f)&&(f=b,i!==0&&i--),s=typeof f=="object"&&f!==null||typeof f=="function"?new In(f):f}return a.s=Le,a.v=f,f}return o.clearCache=()=>{t=Q(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function tt(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...s)=>{let i=0,o=0,u,l={},a=s.pop();typeof a=="object"&&(l=a,a=s.pop()),gn(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const f={...t,...l},{memoize:b,memoizeOptions:S=[],argsMemoize:g=et,argsMemoizeOptions:m=[]}=f,h=De(S),k=De(m),R=mn(s),P=b(function(){return i++,a.apply(null,arguments)},...h),I=g(function(){o++;const E=yn(R,arguments);return u=P.apply(null,E),u},...k);return Object.assign(I,{resultFunc:a,memoizedResultFunc:P,dependencies:R,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:b,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var xn=tt(et),Pn=Object.assign((n,e=xn)=>{bn(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(i=>n[i]);return e(r,(...i)=>i.reduce((o,u,l)=>(o[t[l]]=u,o),{}))},{withTypes:()=>Pn});tt({memoize:Cn,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const rr=(n,e,t,r,s,i,...o)=>{if(o.length>0)throw new Error(kt(1));let u;if(n)u=n;else throw new Error("Missing arguments");return u};var ve={exports:{}},me={};var Fe;function Nn(){if(Fe)return me;Fe=1;var n=gt(),e=Lt();function t(a,f){return a===f&&(a!==0||1/a===1/f)||a!==a&&f!==f}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,i=n.useRef,o=n.useEffect,u=n.useMemo,l=n.useDebugValue;return me.useSyncExternalStoreWithSelector=function(a,f,b,S,g){var m=i(null);if(m.current===null){var h={hasValue:!1,value:null};m.current=h}else h=m.current;m=u(function(){function R(T){if(!P){if(P=!0,I=T,T=S(T),g!==void 0&&h.hasValue){var N=h.value;if(g(N,T))return A=N}return A=T}if(N=A,r(I,T))return N;var L=S(T);return g!==void 0&&g(N,L)?(I=T,N):(I=T,A=L)}var P=!1,I,A,E=b===void 0?null:b;return[function(){return R(f())},E===null?void 0:function(){return R(E())}]},[f,b,S,g]);var k=s(a,m[0],m[1]);return o(function(){h.hasValue=!0,h.value=k},[k]),l(k),k},me}var je;function Mn(){return je||(je=1,ve.exports=Nn()),ve.exports}var kn=Mn();function An(n,e,t,r,s){const i=o=>e(o,t,r,s);return kn.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getSnapshot,i)}class X{constructor(e){this.state=e,this.listeners=new Set,this.updateTick=0}subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)});getSnapshot=()=>this.state;setState(e){if(this.state===e)return;this.state=e,this.updateTick+=1;const t=this.updateTick;for(const r of this.listeners){if(t!==this.updateTick)return;r(e)}}update(e){for(const t in e)if(!Object.is(this.state[t],e[t])){X.prototype.setState.call(this,{...this.state,...e});return}}set(e,t){Object.is(this.state[e],t)||X.prototype.setState.call(this,{...this.state,[e]:t})}notifyAll(){const e={...this.state};X.prototype.setState.call(this,e)}}class sr extends X{constructor(e,t={},r){super(e),this.context=t,this.selectors=r}controlledValues=new Map;useSyncedValue(e,t){d.useDebugValue(e),Y(()=>{this.state[e]!==t&&this.set(e,t)},[e,t])}useSyncedValueWithCleanup(e,t){Y(()=>(this.state[e]!==t&&this.set(e,t),()=>{this.set(e,void 0)}),[e,t])}useSyncedValues(e){d.useDebugValue(e,t=>Object.keys(t)),Y(()=>{this.update(e)},[e])}useControlledProp(e,t,r){d.useDebugValue(e);const s=t!==void 0;this.controlledValues.has(e)||(this.controlledValues.set(e,s),!s&&!Object.is(this.state[e],r)&&super.setState({...this.state,[e]:r})),Y(()=>{s&&!Object.is(this.state[e],t)&&super.setState({...this.state,[e]:t})},[e,t,r,s])}set(e,t){this.controlledValues.get(e)!==!0&&super.set(e,t)}update(e){const t={...e};for(const r in t)if(Object.hasOwn(t,r)&&this.controlledValues.get(r)===!0){delete t[r];continue}super.update(t)}setState(e){const t={...e};for(const r in t)if(Object.hasOwn(t,r)&&this.controlledValues.get(r)===!0){delete t[r];continue}super.setState({...this.state,...t})}select=(e,t,r,s)=>{const i=this.selectors[e];return i(this.state,t,r,s)};useState=(e,t,r,s)=>{d.useDebugValue(e);const i=this.selectors[e];return An(this,i,t,r,s)};useContextCallback(e,t){d.useDebugValue(e);const r=C(t??At);this.context[e]=r}useStateSetter(e){return d.useCallback(t=>{this.set(e,t)},[e])}observe(e,t){let r;typeof e=="function"?r=e:r=this.selectors[e];let s=r(this.state);return t(s,s,this),this.subscribe(i=>{const o=r(i);if(!Object.is(s,o)){const u=s;s=o,t(o,u,this)}})}}export{Yn as C,Bn as D,ke as F,Un as P,sr as R,ie as T,ln as a,Pe as b,Ze as c,Gn as d,ee as e,tn as f,Ge as g,nn as h,be as i,Zn as j,Xn as k,cn as l,Se as m,Qn as n,tr as o,Hn as p,er as q,nr as r,rr as s,He as t,un as u,Je as v,Jn as w,$n as x,dn as y};
