import{j as n}from"./jsx-runtime-NtR90vs_.js";import{r as a}from"./iframe-DMgJMfTy.js";import{u as se,F as ie,a as de,b as ce,C as ue,c as me,d as fe,e as pe,f as he}from"./InfoTooltip-9eMNjWVh.js";import{c as E}from"./clsx-B-dksMZM.js";import{F as xe}from"./Icon-BPlfcXXP.js";import{u as ye}from"./useControlled-DPoCxAFN.js";import{b as be,u as ge}from"./floating-ui.utils.dom-BiKb4_oH.js";import{f as Ce,c as Fe,m as we,b as X}from"./useRenderElement-BDAcc6QV.js";import{v as Se}from"./ReactStore-BbW3xTW3.js";import{u as ke,c as ve,n as Pe}from"./createBaseUIEventDetails-DyI0pd9j.js";import{f as _e,b as je,a as U,u as Ee,c as qe,d as Ie}from"./useValueChanged-XjYeMUBg.js";import{u as Re}from"./useLabelableId-BsEkCH8C.js";import{a as Ve}from"./useButton-By0iWj5u.js";const $=a.createContext(void 0);function Ne(){const e=a.useContext($);if(e===void 0)throw new Error(Ce(63));return e}let J=(function(e){return e.checked="data-checked",e.unchecked="data-unchecked",e.disabled="data-disabled",e.readonly="data-readonly",e.required="data-required",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e})({});const z={..._e,checked(e){return e?{[J.checked]:""}:{[J.unchecked]:""}}},Te=a.forwardRef(function(t,r){const{checked:d,className:p,defaultChecked:l,id:s,inputRef:i,name:h,nativeButton:c=!1,onCheckedChange:b,readOnly:x=!1,required:g=!1,disabled:S=!1,render:_,...y}=t,{clearErrors:G}=je(),{state:q,setTouched:K,setDirty:Q,validityData:W,setFilled:j,setFocused:I,shouldValidateOnChange:Y,validationMode:Z,disabled:D,name:A,validation:u}=U(),{labelId:ee,registerLabelableControlRef:te}=Ee(),m=D||S,C=A??h,R=be(b),F=a.useRef(null),V=Fe(F,i,u.inputRef),v=a.useRef(null),N=ke(),T=Re({id:s,implicit:!1,controlRef:v}),[o,M]=ye({controlled:d,default:!!l,name:"Switch",state:"checked"});qe({id:N,commit:u.commit,value:o,controlRef:v,name:C,getValue:()=>o}),ge(()=>{F.current&&j(F.current.checked)},[F,j]),Ie(o,()=>{G(C),Q(o!==W.initialValue),j(o),Y()?u.commit(o):u.commit(o,!0)});const{getButtonProps:ne,buttonRef:ae}=Ve({disabled:m,native:c}),oe={id:N,role:"switch","aria-checked":o,"aria-readonly":x||void 0,"aria-labelledby":ee,onFocus(){m||I(!0)},onBlur(){const f=F.current;!f||m||(K(!0),I(!1),Z==="onBlur"&&u.commit(f.checked))},onClick(f){x||m||(f.preventDefault(),F?.current?.click())}},re=a.useMemo(()=>we({checked:o,disabled:m,id:T,name:C,required:g,style:Se,tabIndex:-1,type:"checkbox","aria-hidden":!0,ref:V,onChange(f){if(f.nativeEvent.defaultPrevented)return;const B=f.target.checked,H=ve(Pe,f.nativeEvent);R?.(B,H),!H.isCanceled&&M(B)},onFocus(){v.current?.focus()}},u.getInputValidationProps),[o,m,V,T,C,R,g,M,u]),L=a.useMemo(()=>({...q,checked:o,disabled:m,readOnly:x,required:g}),[q,o,m,x,g]),le=X("span",t,{state:L,ref:[r,te,v,ae],props:[oe,u.getValidationProps,y,ne],stateAttributesMapping:z});return n.jsxs($.Provider,{value:L,children:[le,!o&&C&&n.jsx("input",{type:"hidden",name:C,value:"off"}),n.jsx("input",{...re})]})}),Me=a.forwardRef(function(t,r){const{render:d,className:p,...l}=t,{state:s}=U(),i=Ne(),h={...s,...i};return X("span",t,{state:h,ref:r,stateAttributesMapping:z,props:l})}),Le="start",w=({name:e,value:t,disabled:r=!1,onChange:d,onBlur:p,className:l,switchType:s="toggle",checkboxIcons:i,...h})=>{const[c,b]=a.useState(!1),x=a.useCallback(y=>b(y),[]),g=y=>{r||d?.(y)},S=a.useMemo(()=>s==="checkbox",[s]),_=a.useMemo(()=>t?i?.selected:i?.unselected,[t,i]);return n.jsx(Te,{...h,className:E(["flx-switch-container",{disabled:r,checked:!!t,empty:!t,focused:c,toggle:!S,checkbox:S},l]),disabled:r,checked:t,name:e,onFocus:()=>x(!0),onBlur:y=>{x(!1),p?.(y)},onCheckedChange:g,children:S?_?n.jsx("div",{className:"flx-checkbox-icon",children:_}):n.jsx("div",{className:"flx-checkbox-icon",children:n.jsx(xe,{name:"check"})}):n.jsx(Me,{className:"flx-switch-knob"})})};w.displayName="FlxSwitch";const P=a.forwardRef(({children:e,dataUniqueid:t,dataTestId:r,labelPosition:d=Le,className:p,...l},s)=>n.jsx("div",{...l,className:E(["flx-switch",p]),ref:s,"data-uniqueid":t,"data-testid":r,children:n.jsx("label",{className:E({reversed:d==="end"}),children:e})}));P.displayName="FlxSwitchContainer";const O=a.memo(w);try{w.displayName="FlxSwitch",w.__docgenInfo={description:"",displayName:"FlxSwitch",props:{className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:`Style applied to the element, or a function that
returns a style object based on the component’s state.`,name:"style",required:!1,type:{name:"CSSProperties | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: boolean) => void) | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean | undefined"}},switchType:{defaultValue:{value:"toggle"},description:"",name:"switchType",required:!1,type:{name:'"checkbox" | "toggle" | undefined'}},checkboxIcons:{defaultValue:null,description:"",name:"checkboxIcons",required:!1,type:{name:"{ selected?: ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined; unselected?: ReactElement<FlxIconProps, string | JSXElementConstructor<...>> | null | undefined; } | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, SwitchRootState> | undefined"}}}}}catch{}try{P.displayName="FlxSwitchContainer",P.__docgenInfo={description:"",displayName:"FlxSwitchContainer",props:{dataUniqueid:{defaultValue:null,description:"",name:"dataUniqueid",required:!1,type:{name:"string | undefined"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string | undefined"}},labelPosition:{defaultValue:{value:"start"},description:"",name:"labelPosition",required:!1,type:{name:"SwitchLabelPosition | undefined"}}}}}catch{}try{O.displayName="MemoFlxSwitch",O.__docgenInfo={description:"",displayName:"MemoFlxSwitch",props:{className:{defaultValue:null,description:`CSS class applied to the element, or a function that
returns a class based on the component’s state.`,name:"className",required:!1,type:{name:"string | undefined"}},style:{defaultValue:null,description:`Style applied to the element, or a function that
returns a style object based on the component’s state.`,name:"style",required:!1,type:{name:"CSSProperties | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: boolean) => void) | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean | undefined"}},switchType:{defaultValue:{value:"toggle"},description:"",name:"switchType",required:!1,type:{name:'"checkbox" | "toggle" | undefined'}},checkboxIcons:{defaultValue:null,description:"",name:"checkboxIcons",required:!1,type:{name:"{ selected?: ReactElement<FlxIconProps, string | JSXElementConstructor<any>> | null | undefined; unselected?: ReactElement<FlxIconProps, string | JSXElementConstructor<...>> | null | undefined; } | undefined"}},render:{defaultValue:null,description:`Allows you to replace the component’s HTML element
with a different tag, or compose it with another component.

Accepts a \`ReactElement\` or a function that returns the element to render.`,name:"render",required:!1,type:{name:"ReactElement<Record<string, unknown>, string | JSXElementConstructor<any>> | ComponentRenderFn<HTMLProps<any>, SwitchRootState> | undefined"}}}}}catch{}const Be={component:w,title:"Choices",decorators:[e=>{const t=pe({mode:"onBlur",defaultValues:{switch:!1}});return n.jsx(he,{...t,children:n.jsx(e,{})})}],argTypes:{labelPosition:{options:["start","end"],control:{type:"radio"}},fontFamily:{options:["Open Sans","Source Code Pro","Bitter"],control:{type:"select"}}},render:function(t){const r=a.useId(),d=`${r}-form-item`,p=`${r}-form-item-description`,l="switch",s=t.requiredError?{required:"This field is required"}:{},{watch:i,control:h}=se();return n.jsxs("div",{style:{fontFamily:t.fontFamily},className:"flx-default-theme",children:[n.jsxs(P,{labelPosition:t.labelPosition,children:[n.jsxs(ie,{children:[n.jsx(de,{htmlFor:d,disabled:t.disabled,children:t.label}),t.infoTooltip?n.jsx(ce,{children:t.helper}):null]}),n.jsx(ue,{control:h,name:l,rules:s,render:({field:c,fieldState:b})=>n.jsxs(n.Fragment,{children:[n.jsx(w,{name:l,disabled:t.disabled,style:{width:t.width?t.width:"auto"},onChange:c.onChange,onBlur:c.onBlur,value:c.value,checked:c.value}),!t.infoTooltip&&!b.error?n.jsx(me,{id:p,children:t.helper}):null,n.jsx(fe,{error:b.error})]})})]}),n.jsxs("p",{children:["Value: ",i(l)?.toString()]})]})},parameters:{design:{type:"figma",url:"https://www.figma.com/file/2n2umsSLJbNigLx43nseml/FlowX-Design-System?node-id=6737-14344"}}},k={args:{disabled:!1,label:"Switch label",helper:"Helper text",infoTooltip:!1,requiredError:!1,labelPosition:"start",width:200}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:`{
  args: {
    disabled: false,
    label: 'Switch label',
    helper: 'Helper text',
    infoTooltip: false,
    requiredError: false,
    labelPosition: 'start',
    width: 200
  }
}`,...k.parameters?.docs?.source}}};const He=["Switch"],Ae=Object.freeze(Object.defineProperty({__proto__:null,Switch:k,__namedExportsOrder:He,default:Be},Symbol.toStringTag,{value:"Module"}));export{Ae as S,k as a};
